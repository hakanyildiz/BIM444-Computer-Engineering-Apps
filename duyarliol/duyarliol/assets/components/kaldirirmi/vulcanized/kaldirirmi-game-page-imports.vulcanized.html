<html><head><!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--></head><body><div hidden="" by-polymer-bundler="">﻿
﻿

  <link rel="import" href="../../polymer/polymer.html">





<dom-module id="iron-localstorage" assetpath="../../iron-localstorage/"></dom-module>
<script>

  Polymer({
    is: 'iron-localstorage',

    properties: {
      /**
       * localStorage item key
       */
      name: {
        type: String,
        value: ''
      },
      /**
       * The data associated with this storage.
       * If set to null item will be deleted.
       * @type {*}
       */
      value: {
        type: Object,
        notify: true
      },

      /**
       * If true: do not convert value to JSON on save/load
       */
      useRaw: {
        type: Boolean,
        value: false
      },

      /**
       * Value will not be saved automatically if true. You'll have to do it manually with `save()`
       */
      autoSaveDisabled: {
        type: Boolean,
        value: false
      },
      /**
       * Last error encountered while saving/loading items
       */
      errorMessage: {
        type: String,
        notify: true
      },

      /** True if value has been loaded */
      _loaded: {
        type: Boolean,
        value: false
      }
    },

    observers: [
      '_debounceReload(name,useRaw)',
      '_trySaveValue(autoSaveDisabled)',
      '_trySaveValue(value.*)'
    ],

    ready: function() {
      this._boundHandleStorage = this._handleStorage.bind(this);
    },

    attached: function() {
      window.addEventListener('storage', this._boundHandleStorage);
    },

    detached: function() {
      window.removeEventListener('storage', this._boundHandleStorage);
    },

    _handleStorage: function(ev) {
      if (ev.key == this.name) {
        this._load(true);
      }
    },

    _trySaveValue: function() {
      if (this._doNotSave) {
        return;
      }
      if (this._loaded && !this.autoSaveDisabled) {
        this.debounce('save', this.save);
      }
    },

    _debounceReload: function() {
      this.debounce('reload', this.reload);
    },

    /**
     * Loads the value again. Use if you modify
     * localStorage using DOM calls, and want to
     * keep this element in sync.
     */
    reload: function() {
      this._loaded = false;
      this._load();
    },

    /**
     * loads value from local storage
     * @param {boolean=} externalChange true if loading changes from a different window
     */
    _load: function(externalChange) {
      try {
        var v = window.localStorage.getItem(this.name);
      } catch (ex) {
        this.errorMessage = ex.message;

        this._error("Could not save to localStorage.  Try enabling cookies for this page.", ex);
      };

      if (v === null) {
        this._loaded = true;
        this._doNotSave = true;  // guard for save watchers
        this.value = null;
        this._doNotSave = false;
        this.fire('iron-localstorage-load-empty', { externalChange: externalChange});
      } else {
        if (!this.useRaw) {
          try { // parse value as JSON
            v = JSON.parse(v);
          } catch(x) {
            this.errorMessage = "Could not parse local storage value";
            Polymer.Base._error("could not parse local storage value", v);
            v = null;
          }
        }
        this._loaded = true;
        this._doNotSave = true;
        this.value = v;
        this._doNotSave = false;
        this.fire('iron-localstorage-load', { externalChange: externalChange});
      }
    },

    /**
     * Saves the value to localStorage. Call to save if autoSaveDisabled is set.
     * If `value` is null or undefined, deletes localStorage.
     */
    save: function() {
      var v = this.useRaw ? this.value : JSON.stringify(this.value);
      try {
        if (this.value === null || this.value === undefined) {
          window.localStorage.removeItem(this.name);
        } else {
          window.localStorage.setItem(this.name, /** @type {string} */ (v));
        }
      }
      catch(ex) {
        // Happens in Safari incognito mode,
        this.errorMessage = ex.message;
        Polymer.Base._error("Could not save to localStorage. Incognito mode may be blocking this action", ex);
      }
    }

    /**
     * Fired when value loads from localStorage.
     *
     * @event iron-localstorage-load
     * @param {{externalChange:boolean}} detail -
     *     externalChange: true if change occured in different window.
     */

    /**
     * Fired when loaded value does not exist.
     * Event handler can be used to initialize default value.
     *
     * @event iron-localstorage-load-empty
     * @param {{externalChange:boolean}} detail -
     *     externalChange: true if change occured in different window.
     */
  });

</script>






<script>
(function() {
  "use strict";
  /**
    `Polymer.IronJsonpLibraryBehavior` loads a jsonp library.
    Multiple components can request same library, only one copy will load.

    Some libraries require a specific global function be defined.
    If this is the case, specify the `callbackName` property.

    You should use an HTML Import to load library dependencies
    when possible instead of using this element.

    @hero hero.svg
    @demo demo/index.html
    @polymerBehavior
   */
  Polymer.IronJsonpLibraryBehavior = {

    properties: {
      /**
       * True if library has been successfully loaded
       */
      libraryLoaded: {
        type: Boolean,
        value: false,
        notify: true,
        readOnly: true
      },
      /**
       * Not null if library has failed to load
       */
      libraryErrorMessage: {
        type: String,
        value: null,
        notify: true,
        readOnly: true
      }
      // Following properties are to be set by behavior users
      /**
       * Library url. Must contain string `%%callback%%`.
       *
       * `%%callback%%` is a placeholder for jsonp wrapper function name
       *
       * Ex: https://maps.googleapis.com/maps/api/js?callback=%%callback%%
       * @property libraryUrl
       */
      /**
       * Set if library requires specific callback name.
       * Name will be automatically generated if not set.
       * @property callbackName
       */
      /**
       * name of event to be emitted when library loads. Standard is `api-load`
       * @property notifyEvent
       */
      /**
       * event with name specified in `notifyEvent` attribute
       * will fire upon successful load2
       * @event `notifyEvent`
       */
    },

    observers: [
      '_libraryUrlChanged(libraryUrl)'
    ],

    _libraryUrlChanged: function(libraryUrl) {
      // can't load before ready because notifyEvent might not be set
      if (this._isReady && this.libraryUrl)
        this._loadLibrary();
    },

    _libraryLoadCallback: function(err, result) {
      if (err) {
        console.warn("Library load failed:", err.message);
        this._setLibraryErrorMessage(err.message);
      }
      else {
        this._setLibraryErrorMessage(null);
        this._setLibraryLoaded(true);
        if (this.notifyEvent)
          this.fire(this.notifyEvent, result);
      }
    },

    /** loads the library, and fires this.notifyEvent upon completion */
    _loadLibrary: function() {
      LoaderMap.require(
        this.libraryUrl,
        this._libraryLoadCallback.bind(this),
        this.callbackName
      );
    },

    ready: function() {
      this._isReady = true;
      if (this.libraryUrl)
        this._loadLibrary();
    }
  };

  /**
   * LoaderMap keeps track of all Loaders
   */
  var LoaderMap = {
    apiMap: {}, // { hash -> Loader }

    /**
     * @param {Function} notifyCallback loaded callback fn(result)
     * @param {string} jsonpCallbackName name of jsonpcallback. If API does not provide it, leave empty. Optional.
     */
    require: function(url, notifyCallback, jsonpCallbackName) {

      // make hashable string form url
      var name = this.nameFromUrl(url);

      // create a loader as needed
      if (!this.apiMap[name])
        this.apiMap[name] = new Loader(name, url, jsonpCallbackName);

      // ask for notification
      this.apiMap[name].requestNotify(notifyCallback);
    },

    nameFromUrl: function(url) {
      return url.replace(/[\:\/\%\?\&\.\=\-\,]/g, '_') + '_api';
    }
  };

  /** @constructor */
  var Loader = function(name, url, callbackName) {
    this.notifiers = [];  // array of notifyFn [ notifyFn* ]

    // callback is specified either as callback name
    // or computed dynamically if url has callbackMacro in it
    if (!callbackName) {
      if (url.indexOf(this.callbackMacro) >= 0) {
        callbackName = name + '_loaded';
        url = url.replace(this.callbackMacro, callbackName);
      } else {
        this.error = new Error('IronJsonpLibraryBehavior a %%callback%% parameter is required in libraryUrl');
        // TODO(sjmiles): we should probably fallback to listening to script.load
        return;
      }
    }
    this.callbackName = callbackName;
    window[this.callbackName] = this.success.bind(this);
    this.addScript(url);
  };

  Loader.prototype = {

    callbackMacro: '%%callback%%',
    loaded: false,

    addScript: function(src) {
      var script = document.createElement('script');
      script.src = src;
      script.onerror = this.handleError.bind(this);
      var s = document.querySelector('script') || document.body;
      s.parentNode.insertBefore(script, s);
      this.script = script;
    },

    removeScript: function() {
      if (this.script.parentNode) {
        this.script.parentNode.removeChild(this.script);
      }
      this.script = null;
    },

    handleError: function(ev) {
      this.error = new Error("Library failed to load");
      this.notifyAll();
      this.cleanup();
    },

    success: function() {
      this.loaded = true;
      this.result = Array.prototype.slice.call(arguments);
      this.notifyAll();
      this.cleanup();
    },

    cleanup: function() {
      delete window[this.callbackName];
    },

    notifyAll: function() {
      this.notifiers.forEach( function(notifyCallback) {
        notifyCallback(this.error, this.result);
      }.bind(this));
      this.notifiers = [];
    },

    requestNotify: function(notifyCallback) {
      if (this.loaded || this.error) {
        notifyCallback( this.error, this.result);
      } else {
        this.notifiers.push(notifyCallback);
      }
    }
  };
})();
</script>


<script>
  Polymer({

    is: 'iron-jsonp-library',

    behaviors: [ Polymer.IronJsonpLibraryBehavior ],

    properties: {
      /**
       * Library url. Must contain string `%%callback%%`.
       *
       * `%%callback%%` is a placeholder for jsonp wrapper function name
       *
       * Ex: https://maps.googleapis.com/maps/api/js?callback=%%callback%%
       */
      libraryUrl: String,
      /**
       * Set if library requires specific callback name.
       * Name will be automatically generated if not set.
       */
      callbackName: String,
      /**
       * event with name specified in 'notifyEvent' attribute
       * will fire upon successful load
       */
      notifyEvent: String
      /**
       * event with name specified in 'notifyEvent' attribute
       * will fire upon successful load
       * @event `notifyEvent`
       */

    }
  });

</script>



<script>
  Polymer({

    is: 'google-youtube-api',

    behaviors: [
      Polymer.IronJsonpLibraryBehavior
    ],

    properties: {

      /** @private */
      libraryUrl:  {
        type: String,
        value: 'https://www.youtube.com/iframe_api'
      },

      /**
       * Fired when the API library is loaded and available.
       * @event api-load
       */
      /**
       * Name of event fired when library loads.
       */
      notifyEvent:  {
        type: String,
        value: 'api-load'
      },

      callbackName:  {
        type: String,
        value: 'onYouTubeIframeAPIReady'
      }

    },

    get api() {
      return YT;
    }

  });
</script>



<dom-module id="google-youtube" assetpath="../../google-youtube/">
  <style>
    :host {
      display: block;
    }

    :host([fluid]) {
      width: 100%;
      max-width: 100%;
      position: relative;
    }

      :host([fluid]) iframe,
      :host([fluid]) #thumbnail {
        vertical-align: bottom;
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
      }

    iframe {
      @apply(--google-youtube-iframe);
    }

    #container {
      max-width: 100%;
      max-height: 100%;
      @apply(--google-youtube-container);
    }

    #thumbnail {
      width: 100%;
      height: 100%;
      cursor: pointer;
      @apply(--google-youtube-thumbnail);
    }
  </style>

  <template>
    <div id="container" style$="{{_computeContainerStyle(width, height)}}">
      <template is="dom-if" if="{{thumbnail}}">
        <img id="thumbnail" src$="{{thumbnail}}" title="YouTube video thumbnail." alt="YouTube video thumbnail." on-tap="_handleThumbnailTap">
      </template>

      <template is="dom-if" if="{{!thumbnail}}">
        <template is="dom-if" if="{{videoId}}">
          <google-youtube-api on-api-load="_apiLoad"></google-youtube-api>
        </template>
      </template>

      <!-- Use this._playsupportedLocalStorage as the value, since this.playsupported is set to
           true as soon as initial playback has started, and we don't want that cached. -->
      <iron-localstorage name="google-youtube-playsupported" value="{{_playsupportedLocalStorage}}" on-iron-localstorage-load="_useExistingPlaySupportedValue" on-iron-localstorage-load-empty="_determinePlaySupported">
      </iron-localstorage>

      <div id="player"></div>
    </div>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'google-youtube',
    /**
     * Fired when the YouTube player is fully initialized and ready for use.
     *
     * @event google-youtube-ready
     */
    /**
     * Fired when the state of the player changes. `e.detail.data` is set to one of
     * [the documented](https://developers.google.com/youtube/iframe_api_reference#onStateChange)
     * states.
     *
     * @event google-youtube-state-change
     * @param {Object} e Event parameters.
     */
    /**
     * Fired when playback fails due to an error. `e.detail.data` is set to one of
     * [the documented](https://developers.google.com/youtube/iframe_api_reference#onError)
     * error codes.
     *
     * @event google-youtube-error
     * @param {Object} e Event parameters.
     */
    properties: {
      /**
       * Sets the id of the video to play. Changing this attribute will trigger a call
       * to load a new video into the player (if `this.autoplay` is set to `1` and `playsupported` is true)
       * or cue a new video otherwise.
       *
       * The underlying YouTube embed will not be added to the page unless this
       * value is set.
       *
       * You can [search for videos programmatically](https://developers.google.com/youtube/v3/docs/search/list)
       * using the YouTube Data API, or just hardcode known video ids to display on your page.
       */
      videoId: {
        type: String,
        value: '',
        observer: '_videoIdChanged'
      },
      /**
       * Whether programmatic `<video>.play()` for initial playback is supported in the current browser.
       *
       * Most mobile browsers [do not support](https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW1) autoplaying or scripted playback of videos.
       * If you attempt to automatically initiate playback of a `<google-youtube>`, e.g. by calling the `play()` method before
       * playback has initially begun, the YouTube Player will enter an unrecoverable "stuck" state.
       * To protect against this, check the value of `playsupported` and don't call `play()` if it is set to `false`.
       * (You can hide/disable your custom play button, etc.)
       *
       * The `playsupported` value is determined at runtime, by dynamically creating a `<video>` element with an
       * inlined data source and calling `play()` on it. (Inspired by [Modernizr](https://github.com/Modernizr/Modernizr/blob/master/feature-detects/video/autoplay.js).)
       *
       * If you would rather not incur the minimal overhead involved in going through this process, you can explicitly set
       * `playsupported` to `true` or `false` when initializing `<google-youtube>`. This is only recommended if you know that
       * your web app will never (or only) be used on mobile browsers.
       */
      playsupported: {
        type: Boolean,
        value: null,
        notify: true
      },
      /**
       * "1" if video should start automatically
       */
      autoplay: {
        type: Number,
        value: 0
      },
      /**
       * Whether playback has started.
       *
       * This defaults to `false` and is set to `true` once the first 'playing' event is fired by
       * the underlying YouTube Player API.
       *
       * Once set to `true`, it will remain that way indefinitely.
       * Paused/buffering/ended events won't cause `playbackstarted` to reset to `false`.
       * Nor will loading a new video into the player.
       */
      playbackstarted: {
        type: Boolean,
        value: false,
        notify: true
      },
      /**
       * Sets the height of the player on the page.
       * Accepts anything valid for a CSS measurement, e.g. '200px' or '50%'.
       * If the unit of measurement is left off, 'px' is assumed.
       */
      height: {
        type: String,
        value: '270px'
      },
      /**
       * Sets the width of the player on the page.
       * Accepts anything valid for a CSS measurement, e.g. '200px' or '50%'.
       * If the unit of measurement is left off, 'px' is assumed.
       */
      width: {
        type: String,
        value: '480px'
      },
      /**
       * Exposes the current player state.
       * Using this attribute is an alternative to listening to `google-youtube-state-change` events,
       * and can simplify the logic in templates with conditional binding.
       *
       * The [possible values](https://developers.google.com/youtube/iframe_api_reference#onStateChange):
       *   - -1 (unstarted)
       *   - 0 (ended)
       *   - 1 (playing)
       *   - 2 (paused)
       *   - 3 (buffering)
       *   - 5 (video cued)
       */
      state: {
        type: Number,
        value: -1,
        notify: true
      },
      /**
       * Exposes the current playback time, in seconds.
       *
       * You can divide this value by the `duration` to determine the playback percentage.
       */
      currenttime: {
        type: Number,
        value: 0,
        notify: true
      },
      /**
       * Exposes the video duration, in seconds.
       *
       * You can divide the `currenttime` to determine the playback percentage.
       *
       * @attribute duration
       * @type number
       */
      duration: {
        type: Number,
        value: 1, // To avoid divide-by-zero errors if used before video is cued.
        notify: true
      },
      /**
       * Exposes the current playback time, formatted as a (HH:)MM:SS string.
       */
      currenttimeformatted: {
        type: String,
        value: '0:00',
        notify: true
      },
      /**
       * Exposes the video duration, formatted as a (HH:)MM:SS string.
       */
      durationformatted: {
        type: String,
        value: '0:00', // To avoid divide-by-zero errors if used before video is cued.
        notify: true
      },
      /**
       * The fraction of the bytes that have been loaded for the current video, in the range [0-1].
       */
      fractionloaded: {
        type: Number,
        value: 0,
        notify: true
      },
      /**
       * A shorthand to enable a set of player attributes that, used together, simulate a "chromeless" YouTube player.
       *
       * Equivalent to setting the following attributes:
       * - `controls="0"`
       * - `modestbranding="1"`
       * - `showinfo="0"`
       * - `iv_load_policy="3"`
       * - `rel="0"`
       *
       * The "chromeless" player has minimal YouTube branding in cued state, and the native controls
       * will be disabled during playback. Creating your own custom play/pause/etc. controls is recommended.
       */
      chromeless: {
        type: Boolean,
        value: false
      },
      /**
       * The URL of an image to use as a custom thumbnail.
       *
       * This is optional; if not provided, the standard YouTube embed (which uses the thumbnail associated
       * with the video on YouTube) will be used.
       *
       * If `thumbnail` is set, than an `<img>` containing the thumbnail will be used in lieu of the actual
       * YouTube embed. When the thumbnail is clicked, the `<img>` is swapped out for the actual YouTube embed,
       * which will have [`autoplay=1`](https://developers.google.com/youtube/player_parameters#autoplay) set by default (in additional to any other player parameters specified on this element).
       *
       * Please note that `autoplay=1` won't actually autoplay videos on mobile browsers, so two taps will be required
       * to play the video there. Also, on desktop browsers, setting `autoplay=1` will prevent the playback
       * from [incrementing the view count](https://support.google.com/youtube/answer/1714329) for the video.
       */
      thumbnail: {
        type: String,
        value: ''
      },
      /**
       * If `fluid` is set, then the player will set its width to 100% to fill
       * the parent container, while adding `padding-top` to preserve the
       * aspect ratio provided by `width` and `height`. If `width` and `height`
       * have not been set, the player will fall back to a 16:9 aspect ratio.
       * This is useful for responsive designs where you don't want to
       * introduce letterboxing on your video.
       */
      fluid: {
        type: Boolean,
        value: false
      }
    },
    _computeContainerStyle: function (width, height) {
      return 'width:' + width + '; height:' + height;
    },
    _useExistingPlaySupportedValue: function () {
      this.playsupported = this._playsupportedLocalStorage;
    },
    /**
     * Detects whether programmatic <video>.play() is supported in the current browser.
     *
     * This is triggered via on-ironlocalstorage-load-empty. The logic is:
     * - If playsupported is explicitly set to true or false on the element, use that.
     * - Otherwise, if there's a cached value in localStorage, use that.
     * - Otherwise, create a hidden <video> element and call play() on it:
     *   - If playback starts, playsupported is true.
     *   - If playback doesn't start (within 500ms), playsupported is false.
     *   - Whatever happens, cache the result in localStorage.
     */
    _determinePlaySupported: function () {
      // If playsupported isn't already being overridden by the page using this component,
      // then attempt to determine if it's supported.
      // This is deliberately checking with ==, to match either undefined or null.
      if (this.playsupported == null) {
        // Run a new playback test.
        var timeout;
        var videoElement = document.createElement('video');
        if ('play' in videoElement) {
          videoElement.id = 'playtest';
          // Some browsers will refuse to play videos with 'display: none' set,
          // so position the video well offscreen instead.
          // Modify the .style property directly instead of using CSS to work around polyfill
          // issues; see https://github.com/GoogleWebComponents/google-youtube/issues/49
          videoElement.style.position = 'absolute';
          videoElement.style.top = '-9999px';
          videoElement.style.left = '-9999px';
          var mp4Source = document.createElement('source');
          mp4Source.src = "data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==";
          videoElement.appendChild(mp4Source);
          var webmSource = document.createElement('source');
          webmSource.src = "data:video/webm;base64,GkXfo49CgoR3ZWJtQoeBAUKFgQEYU4BnAQAAAAAAF60RTZt0vE27jFOrhBVJqWZTrIIQA027jFOrhBZUrmtTrIIQbE27jFOrhBFNm3RTrIIXmU27jFOrhBxTu2tTrIIWs+xPvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFUmpZuQq17GDD0JATYCjbGliZWJtbCB2MC43LjcgKyBsaWJtYXRyb3NrYSB2MC44LjFXQY9BVlNNYXRyb3NrYUZpbGVEiYRFnEAARGGIBc2Lz1QNtgBzpJCy3XZ0KNuKNZS4+fDpFxzUFlSua9iu1teBAXPFhL4G+bmDgQG5gQGIgQFVqoEAnIEAbeeBASMxT4Q/gAAAVe6BAIaFVl9WUDiqgQEj44OEE95DVSK1nIN1bmTgkbCBULqBPJqBAFSwgVBUuoE87EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB9DtnVB4eeBAKC4obaBAAAAkAMAnQEqUAA8AABHCIWFiIWEiAICAAamYnoOC6cfJa8f5Zvda4D+/7YOf//nNefQYACgnKGWgQFNANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQKbANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQPoANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQU1ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQaDANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQfQANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQkdANEBAAEQEBRgAGFgv9AAIiGAAPuC/rOgnKGWgQprANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQu4ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ0FANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ5TANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQ+gANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRDtANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRI7ANEBAAEQEAAYABhYL/QACIhgAPuC/rIcU7trQOC7jLOBALeH94EB8YIUzLuNs4IBTbeH94EB8YIUzLuNs4ICm7eH94EB8YIUzLuNs4ID6LeH94EB8YIUzLuNs4IFNbeH94EB8YIUzLuNs4IGg7eH94EB8YIUzLuNs4IH0LeH94EB8YIUzLuNs4IJHbeH94EB8YIUzLuNs4IKa7eH94EB8YIUzLuNs4ILuLeH94EB8YIUzLuNs4INBbeH94EB8YIUzLuNs4IOU7eH94EB8YIUzLuNs4IPoLeH94EB8YIUzLuNs4IQ7beH94EB8YIUzLuNs4ISO7eH94EB8YIUzBFNm3SPTbuMU6uEH0O2dVOsghTM";
          videoElement.appendChild(webmSource);
          document.body.appendChild(videoElement);
          this.async(function () {
            // Ideally, we'll get a 'playing' event if we're on a browser that supports
            // programmatic play().
            videoElement.onplaying = function (e) {
              clearTimeout(timeout);
              this.playsupported = (e && e.type === 'playing') || videoElement.currentTime !== 0;
              this._playsupportedLocalStorage = this.playsupported;
              videoElement.onplaying = null;
              document.body.removeChild(videoElement);
            }.bind(this);
            // If we haven't received a 'playing' event within 500ms, then we're most likely on a browser that doesn't
            // support programmatic plays. Do a final check after 500ms and set this.playsupported at that point.
            timeout = setTimeout(videoElement.onplaying, 500);
            // Try to initiate playback...
            videoElement.play();
          });
        } else {
          // If there's no play() method then we know that it's not supported.
          this.playsupported = false;
          this._playsupportedLocalStorage = false;
        }
      }
    },
    /**
     * Sets fluid width/height.
     *
     * If the fluid attribute is set, the aspect ratio of the video will
     * be inferred (if set in pixels), or assumed to be 16:9. The element
     * will give itself enough top padding to force the player to use the
     * correct aspect ratio, even as the screen size changes.
     *
     */
    ready: function () {
      if (this.hasAttribute('fluid')) {
        var ratio = parseInt(this.height, 10) / parseInt(this.width, 10);
        if (isNaN(ratio)) {
          ratio = 9 / 16;
        }
        ratio *= 100;
        this.width = '100%';
        this.height = 'auto';
        this.$.container.style['padding-top'] = ratio + '%';
      }
    },
    /**
     * Clean up the underlying Player `<iframe>` when we're removed from the DOM.
     */
    detached: function () {
      if (this._player) {
        this._player.destroy();
      }
    },
    /**
     * Plays the current video.
     *
     * Note that on certain mobile browsers, playback
     * [can't be initiated programmatically](https://developers.google.com/youtube/iframe_api_reference#Mobile_considerations).
     *
     * If `this.playsupported` is not `true`, calling `play()` will have no effect.
     *
     * @method play
     */
    play: function () {
      if (this._player && this._player.playVideo && this.playsupported) {
        this._player.playVideo();
      }
    },
    /**
     * Modifies the volume of the current video.
     *
     * Developers should take care not to break expected user experience by programmatically
     * modifying the volume on mobile browsers.
     * Note that the YouTube player, in addition, does not display volume controls in a
     * mobile environment.
     *
     * @method setVolume
     * @param {number} volume The new volume, an integer between 0 (muted) and 100 (loudest).
     */
    setVolume: function (volume) {
      if (this._player && this._player.setVolume) {
        this._player.setVolume(volume);
      }
    },
    /**
     * Mutes the current video.
     *
     * Developers should take care not to break expected user experience by programmatically
     * modifying the volume on mobile browsers.
     * Note that the YouTube player, in addition, does not display volume controls in a
     * mobile environment.
     *
     * @method mute
     */
    mute: function () {
      if (this._player && this._player.mute) {
        this._player.mute();
      }
    },
    /**
     * Unmutes the current video.
     *
     * Developers should take care not to break expected user experience by programmatically
     * modifying the volume on mobile browsers.
     * Note that the YouTube player, in addition, does not display volume controls in a
     * mobile environment.
     *
     * @method unMute
     */
    unMute: function () {
      if (this._player && this._player.unMute) {
        this._player.unMute();
      }
    },
    /**
     * Pauses the current video.
     *
     * @method pause
     */
    pause: function () {
      if (this._player && this._player.pauseVideo) {
        this._player.pauseVideo();
      }
    },
    /**
     * Skips ahead (or back) to the specified number of seconds.
     *
     * @method seekTo
     * @param {number} seconds Number of seconds to seek to.
     */
    seekTo: function (seconds) {
      if (this._player && this._player.seekTo) {
        this._player.seekTo(seconds, true);
        // Explicitly call _updatePlaybackStats() to ensure that the new playback info is
        // reflected in the bound attributes.
        // The 100ms delay is somewhat arbitrary, but the YouTube player does need time to
        // update its internal state following the call to player.seekTo().
        this.async(function () {
          this._updatePlaybackStats();
        }, null, 100);
      }
    },
    _videoIdChanged: function () {
      this.currenttime = 0;
      this.currenttimeformatted = this._toHHMMSS(0);
      this.fractionloaded = 0;
      this.duration = 1;
      this.durationformatted = this._toHHMMSS(0);
      if (!this._player || !this._player.cueVideoById) {
        this._pendingVideoId = this.videoId;
      } else {
        // Figure out whether we should cue or load (which will autoplay) the next video.
        if (this.playsupported && this.attributes['autoplay'] && this.attributes['autoplay'].value == '1') {
          this._player.loadVideoById(this.videoId);
        } else {
          this._player.cueVideoById(this.videoId);
        }
      }
    },
    _player: null,
    __updatePlaybackStatsInterval: null,
    _pendingVideoId: '',
    _apiLoad: function () {
      // Establish some defaults. Attributes set on the google-youtube element
      // can override defaults, or specify additional player parameters. See
      // https://developers.google.com/youtube/player_parameters
      var playerVars = {
        playsinline: 1,
        controls: 2,
        autohide: 1,
        // This will (intentionally) be overwritten if this.attributes['autoplay'] is set.
        autoplay: this.autoplay
      };
      if (this.chromeless) {
        playerVars.controls = 0;
        playerVars.modestbranding = 1;
        playerVars.showinfo = 0;
        // Disable annotations.
        playerVars.iv_load_policy = 3;
        // Disable related videos on the end screen.
        playerVars.rel = 0;
      }
      for (var i = 0; i < this.attributes.length; i++) {
        var attribute = this.attributes[i];
        playerVars[attribute.nodeName] = attribute.value;
      }
      this._player = new YT.Player(this.$.player, {
        videoId: this.videoId,
        width: '100%',
        height: '100%',
        playerVars: playerVars,
        events: {
          onReady: function (e) {
            if (this._pendingVideoId && this._pendingVideoId != this.videoId) {
              this._player.cueVideoById(this._pendingVideoId);
              this._pendingVideoId = '';
            }
            this.fire('google-youtube-ready', e);
          }.bind(this),
          onStateChange: function (e) {
            this.state = e.data;
            // The YouTube Player API only exposes playback data about a video once
            // playback has begun.
            if (this.state == 1) {
              this.playbackstarted = true;
              // After playback has begun, play() can always be used to resume playback if the video is paused.
              this.playsupported = true;
              this.duration = this._player.getDuration();
              this.durationformatted = this._toHHMMSS(this.duration);
              if (!this.__updatePlaybackStatsInterval) {
                this.__updatePlaybackStatsInterval = setInterval(this._updatePlaybackStats.bind(this), 1000);
              }
            } else {
              // We only need to update the stats if the video is playing.
              if (this.__updatePlaybackStatsInterval) {
                clearInterval(this.__updatePlaybackStatsInterval);
                this.__updatePlaybackStatsInterval = null;
              }
            }
            this.fire('google-youtube-state-change', e);
          }.bind(this),
          onError: function (e) {
            // Set the player state to 0 ('ended'), since playback will have stopped.
            this.state = 0;
            this.fire('google-youtube-error', e);
          }.bind(this)
        }
      });
    },
    _updatePlaybackStats: function () {
      this.currenttime = Math.round(this._player.getCurrentTime());
      this.currenttimeformatted = this._toHHMMSS(this.currenttime);
      this.fractionloaded = this._player.getVideoLoadedFraction();
    },
    _toHHMMSS: function (totalSeconds) {
      var hours = Math.floor(totalSeconds / 3600);
      totalSeconds -= hours * 3600;
      var minutes = Math.floor(totalSeconds / 60);
      var seconds = Math.round(totalSeconds - (minutes * 60));
      var hourPortion = '';
      if (hours > 0) {
        hourPortion += hours + ':';
        if (minutes < 10) {
          minutes = '0' + minutes;
        }
      }
      if (seconds < 10) {
        seconds = '0' + seconds;
      }
      return hourPortion + minutes + ':' + seconds;
    },
    _handleThumbnailTap: function () {
      this.autoplay = 1;
      this.thumbnail = '';
    }
  });
</script>
﻿
﻿

<dom-module id="shared-styles" assetpath="../haberler/">
  <template>
    <style>
      .red-100 {
        background: var(--google-red-100);
      }

      .yellow-100 {
        background: var(--google-yellow-100);
      }

      .blue-100 {
        background: var(--google-blue-100);
      }

      .green-100 {
        background: var(--google-green-100);
      }

      .red-300 {
        background: var(--google-red-300);
      }

      .yellow-300 {
        background: var(--google-yellow-300);
      }

      .blue-300 {
        background: var(--google-blue-300);
      }

      .green-300 {
        background: var(--google-green-300);
      }
      
      .orange-100 {
        background: #ffe0b2;
      }
      .orange-300 {
        background: #ff7800;
        
      }
    </style>
  </template>
</dom-module>

<dom-module id="game-animated-grid" assetpath="../oyun/">
    <template>
        <style>
            :host {
                display: block;
                background-color: #222;
            }

            .tile {
                cursor: copy;
                width: 100%;
                position: relative;
                display: inline-block;
                float: left;
                vertical-align: top;
                height: calc(100% / 2);
                transition: .4s all;
                color: #292929;
                @apply(--paper-font-title);
                @apply(--layout-vertical);
                @apply(--layout-center-center);
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center;
                box-shadow: 0 0 5px black inset, 0 0 2px 1px black;
            }

                .tile iron-image {
                    width: 130px;
                    height: 130px;
                    pointer-events: none;
                    transition: all ease-in .2s;
                    opacity: .7;
                    background-color: #222;
                }

                .tile .game-title {
                    width: 100%;
                    color: white;
                    font-weight: 100;
                    text-align: center;
                    font-size: calc(0.45em + 1vmin) !important;
                    line-height: calc(1.2em + 1vmin) !important;
                    opacity: 0.8;
                    white-space: normal !important;
                }

            /* tile container costum design*/
            div[tile-container] {
                @apply(--layout-horizontal);
                @apply(--layout-center);
                width: 80%;
                white-space: normal !important;
            }

                div[tile-container] .game-headline {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                    position: absolute;
                    top: 0;
                    color: white !important;
                    font-weight: 100;
                }

                    div[tile-container] .game-headline h2 {
                        font-size: calc(0.6em + 1vmin);
                    }

                    div[tile-container] .game-headline p {
                        font-size: calc(0.15em + 1vmin);
                        font-style: italic;
                        padding-left: 8px;
                    }


                    div[tile-container] .game-headline iron-icon {
                        width: calc(1.2em + 1vmin);
                        color: white;
                        height: calc(1.2em + 1vmin);
                        padding-left: 5px;
                    }

                div[tile-container] iron-icon {
                    position: absolute;
                    top: calc(0.2em + 1vmin);
                    right: calc(3em + 1vmin);
                    width: calc(1.2em + 1vmin);
                    color: white;
                    height: calc(1.2em + 1vmin);
                }


                div[tile-container] .tile_container_image {
                    width: 40%;
                }

                div[tile-container] .tile_container_content {
                    width: 60%;
                }


            .tile:nth-of-type(1) .tile_container_image img {
                width: 70%;
            }

            .tile:nth-of-type(4) .tile_container_image img {
                MARGIN-LEFT: 15%;
                width: 60%;
                transform: rotateZ(90deg);
            }

            .tile:nth-of-type(2) .tile_container_image img, .tile:nth-of-type(3) .tile_container_image img {
                width: 90%;
            }

            #kal-man {
                border-radius: 50%;
                position: absolute;
                --paper-fab-background: var(--paper-grey-300);
                --paper-fab-keyboard-focus-background: var(--paper-grey-500);
            }

                #kal-man[icon="favorite"] {
                    color: var(--paper-blue-grey-700);
                }


            /* PAPER ITEM STYLE */
            #usersysteminfo {
                display: inline !important;
                /*padding: 10px 10px 0 10px;*/
            }

            paper-item[heading] h2 {
                font-weight: 100;
                font-size: 20px;
            }

            paper-item[heading] paper-button {
                font-size: 14px;
            }

            paper-item[empty-info], paper-item[info] {
                background-color: #c0c0c0;
                font-size: 16px;
            }

            paper-item[info] {
                @apply(--layout-horizontal);
            }

                paper-item[info] div {
                    width: calc(100% - 40px);
                    @apply(--layout-horizontal);
                    @apply(--layout-start-justified);
                }

                    paper-item[info] div.success:before {
                        content: '+';
                        padding-right: 10px;
                        color: green;
                    }

                    paper-item[info] div.warning:before {
                        content: '!';
                        padding-right: 10px;
                        color: yellow;
                    }

                    paper-item[info] div.fail:before {
                        content: 'x';
                        padding-right: 10px;
                        color: red;
                    }

                    paper-item[info] div.native:before {
                        content: '*';
                        padding-right: 10px;
                    }

            .ksuccess paper-icon-button {
                color: #008744;
            }

            .kfail paper-icon-button {
                color: #DB3236;
            }




            .pb_nav_left {
                margin: 20px 0px 10px 0px;
            }

            .pb_nav_right {
                margin: 0px 0px;
            }

            .pb_nav_left, .pb_nav_right {
                background-color: #E0e0e0;
                transition: all ease-in-out .3s;
                display: inline-table;
                position: relative;
                width: 100%;
                font-size: calc(1em + 1vmin);
                top: 0 !important;
                left: 0 !important;
            }

                .pb_nav_left:hover, .pb_nav_right:hover {
                    transform: scale(1.1);
                }
        </style>
        <style>
            @media only screen and (min-width : 320px) {
            }

            @media only screen and (min-width : 360px) {
                #usersysteminfo paper-item[heading] .buttons {
                    min-width: 300px;
                }
            }

            @media only screen and (min-width : 412px) {
                #usersysteminfo paper-item[heading] .buttons {
                    min-width: 350px;
                }
            }

            @media only screen and (min-width : 480px) {
                #usersysteminfo paper-item[heading] .buttons {
                    min-width: 400px;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 180px;
                    left: 173px;
                }

                .pb_nav_left {
                    top: 180px;
                    left: 470px;
                }

                .pb_nav_left, .pb_nav_right {
                    font-size: calc(0.3em + 1vmin) !important;
                }
            }

            @media only screen and (min-width : 768px) {
                #usersysteminfo paper-item[heading] .buttons {
                    min-width: 400px;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 180px;
                    left: 173px;
                }

                .pb_nav_left {
                    top: 180px;
                    left: 470px;
                }

                .pb_nav_left, .pb_nav_right {
                    font-size: calc(0.3em + 1vmin) !important;
                }
            }

            @media only screen and (min-width : 1024px) { /* zoom %175 */
                #usersysteminfo paper-item[heading] .buttons {
                    min-width: 150px !important;
                }

                #usersysteminfo paper-item[heading] {
                    flex-direction: row !important;
                    -webkit-flex-direction: row !important;
                }

                    #usersysteminfo paper-item[heading] .piheader {
                        align-self: flex-start !important;
                    }

                #kal-man {
                    width: 13%;
                    height: 22%;
                    top: 53%;
                    left: 43.5%;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 147px !important;
                    left: 113px !important;
                }

                .pb_nav_left {
                    top: 147px !important;
                    left: 370px !important;
                    margin: 0px 0px !important;
                    }

                .pb_nav_left, .pb_nav_right {
                    position: absolute !important;
                    width: 30% !important;
                    min-width: 250px !important;
                    font-size: calc(0.15em + 1vmin) !important;
                }


                /* tile */

                .tile {
                    width: calc(100% / 2) !important;
                }

                .colon-image img {
                    width: calc(5em + 1vmin) !important;
                }

                div[tile-flex] .tile-flex-colon .colon-title {
                    font-size: calc(0.25em + 1vmin) !important;
                }

                div[tile-flex] .tile-flex-colon {
                    -webkit-flex-direction: row !important;
                    flex-direction: row !important;
                }

                    div[tile-flex] .tile-flex-colon .colon-header p {
                        font-size: calc(0.15em + 1vmin) !important;
                    }

                    div[tile-flex] .tile-flex-colon .colon-header h2 {
                        font-size: calc(0.6em + 1vmin) !important;
                    }

                    div[tile-flex] .tile-flex-colon .hdd-control-box {
                        bottom: 0 !important;
                    }

                        div[tile-flex] .tile-flex-colon .hdd-control-box p {
                            font-size: calc(0.14em + 1vmin) !important;
                        }
            }

            @media only screen and (min-width : 1224px) { /* zoom %150 */
                div[tile-container] .game-headline {
                    left: 33%;
                }

                #kal-man {
                    width: 10%;
                    height: 22%;
                    top: 53%;
                    left: 45%;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 180px  !important;
                    left: 173px  !important;
                }

                .pb_nav_left {
                    top: 180px  !important;
                    left: 470px  !important;
                }

                .pb_nav_left, .pb_nav_right {
                    font-size: calc(0.3em + 1vmin) !important;
                }

                /* tile */
                .colon-image img {
                    width: calc(8em + 1vmin) !important;
                }

                div[tile-flex] .tile-flex-colon .colon-title {
                    font-size: calc(0.45em + 1vmin) !important;
                }
            }

            @media only screen and (min-width : 1440px) { /* zoom % 125*/
                div[tile-container] .game-headline {
                    left: 37%;
                }

                #kal-man {
                    width: 10%;
                    height: 26%;
                    top: 50%;
                    left: 45%;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 175px  !important;
                    left: 188px  !important;
                }

                .pb_nav_left {
                    top: 175px  !important;
                    left: 532px  !important;
                }

                .pb_nav_left, .pb_nav_right {
                    font-size: calc(0.5em + 1vmin) !important;
                }
            }

            @media only screen and (min-width : 1640px) { /* zoom %110*/
                div[tile-container] .game-headline {
                    left: 39%;
                }

                #kal-man {
                    width: 9%;
                    height: 26%;
                    top: 50%;
                    left: 45.5%;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 181px  !important;
                    left: 260px  !important;
                }

                .pb_nav_left {
                    top: 181px  !important;
                    left: 630px  !important;
                }
            }

            @media only screen and (min-width : 1824px) {
                div[tile-container] .game-headline {
                    left: 40%;
                }

                #kal-man {
                    width: 9%;
                    height: 28%;
                    top: 50%;
                    left: 45.5%;
                }

                /*if user not set his system <- nav buttons */
                .pb_nav_right {
                    top: 181px  !important;
                    left: 272px  !important;
                }

                .pb_nav_left {
                    top: 181px  !important;
                    left: 693px  !important;
                }
            }


            /* paper - item heading  */
            #usersysteminfo paper-item[heading] {
                @apply(--layout-vertical);
            }

                #usersysteminfo paper-item[heading] .piheader {
                    display: flex;
                    flex-grow: 2;
                    align-self: center; /* +1024 =>  flex-start */
                    align-items: center;
                }

                #usersysteminfo paper-item[heading] .buttons {
                    margin-top: 10px;
                    margin-bottom: 10px;
                    min-width: 250px;
                    z-index: 100;
                }

                    #usersysteminfo paper-item[heading] .buttons paper-button {
                        width: 100%;
                    }


            div[tile-flex] {
                @apply(--layout-vertical);
            }

                div[tile-flex] .tile-flex-colon {
                    @apply(--layout-vertical);
                    justify-content: center;
                    height: 100%;
                    /*margin: 0px calc(1em + 1vmin) -5px calc(1.5em + 1vmin);*/
                    margin: -5px 20px;
                    padding-right: 25px;
                }

                    div[tile-flex] .tile-flex-colon .colon-header {
                        @apply(--layout-horizontal);
                        @apply(--layout-center);
                        color: white !important;
                        font-weight: 100;
                        justify-content: center;
                    }

                        div[tile-flex] .tile-flex-colon .colon-header h2 {
                            font-size: calc(0.9em + 1vmin);
                        }

                        div[tile-flex] .tile-flex-colon .colon-header p {
                            font-size: calc(0.45em + 1vmin);
                            font-style: italic;
                            padding-left: 8px;
                        }

                        div[tile-flex] .tile-flex-colon .colon-header iron-icon {
                            width: calc(1.2em + 1vmin);
                            color: white;
                            height: calc(1.2em + 1vmin);
                            padding-left: 5px;
                        }

                    div[tile-flex] .tile-flex-colon .colon-image {
                        align-self: center;
                        flex-grow: 1;
                    }


                    div[tile-flex] .tile-flex-colon .hdd-control-box {
                        @apply(--layout-vertical);
                        position: absolute;
                        right: 10px;
                        color: white;
                        bottom: 18px;
                    }

                        div[tile-flex] .tile-flex-colon .hdd-control-box p {
                            font-style: oblique;
                            font-weight: 500;
                            /*font-size: calc(0.14em + 1vmin);*/
                            font-size: calc(0.4em + 1vmin);
                        }

            .colon-image img {
                width: calc(8em + 1vmin);
                height: calc(4.5em + 1vmin);
            }


            div[tile-flex] .tile-flex-colon .colon-title {
                min-width: 200px;
                flex-grow: 2;
                width: 100%;
                color: white;
                font-weight: 100;
                text-align: center;
                font-size: calc(0.45em + 1vmin);
                line-height: calc(1.2em + 1vmin) !important;
                opacity: 0.8;
                white-space: normal !important;
            }

            div.tile .iiExpand{
                position: absolute;
                  right: 5%;
                                    top: 5%;
                                    color: #fff !important;
                                    width: 25px;
                                    height: 25px;
                                    transition: all ease-in-out .3s;
            }
            div.tile .iiExpand:hover{
                width: 33px;
                height: 33px;
            }
        </style>
        <!-- Local Dom here.. -->
        <template is="dom-if" if="[[kaldirir.gameadded]]">
            <paper-material elevation="0" id="usersysteminfo" role="listbox">
                <template is="dom-if" if="[[kaldirir.useradded]]">
                    <paper-item heading="" style$="background-color: [[bc]]; color: [[mc]]">
                        <div class="piheader" style="flex-grow: 2;">
                            <div><h2>Sistemin {{gamename}} oyununu kaldırır mı?</h2></div>
                            <div class="ksuccess" hidden$="[[!kaldirir.kaldirirmi]]">
                                <!--<div id="kal-man" style$="background: url('../../../img/kalman/kalman-failed.gif'); background-size: cover; background-repeat: no-repeat; background-position: center center;"></div>-->
                                <paper-icon-button id="kaldiririnfo" icon="check-circle"></paper-icon-button>
                                <paper-tooltip position="top" animation-delay="150" offset="2" for="kaldiririnfo">Kaldırır</paper-tooltip>
                            </div>
                            <div class="kfail" hidden$="[[kaldirir.kaldirirmi]]">
                                <!--<div id="kal-man" style$="background: url('../../../img/kalman/kalman-success.gif'); background-size: cover; background-repeat: no-repeat; background-position: center center;"></div>-->
                                <paper-icon-button id="kaldirmazinfo" icon="cancel"></paper-icon-button>
                                <paper-tooltip position="top" animation-delay="150" offset="2" for="kaldirmazinfo">Kaldırmaz</paper-tooltip>
                            </div>
                        </div>
                        <div class="buttons">
                            <!--<paper-button raised onclick="load(); location.href='/sistem-sihirbazi'; ">Sistem Sihirbazını Çalıştır</paper-button>-->
                            <paper-button raised="" onclick="load(); location.href='/uye/sistemini-tanimla';">Sistemini Elle Güncelle</paper-button>
                        </div>
                    </paper-item>
                    <!-- Dom repeat -->
                    <template is="dom-repeat" items="{{kalnotes}}" as="item">
                        <div class="tile" id="part{{index}}">
                            <iron-icon icon="open-with" class="iiExpand"></iron-icon>
                            <div tile-flex="">
                                <div class="tile-flex-colon">
                                    <div class="colon-header">
                                        <h2>[[item.name]]</h2>
                                        <p>[[item.userhardware]]</p>
                                        <iron-icon style$="color: [[item.color]]" icon$="[[item.icon]]"></iron-icon>
                                    </div>
                                </div>
                                <div class="tile-flex-colon">
                                    <div class="colon-image">
                                        <img src="/assets/img/gamepage-icon/[[item.image]]">
                                    </div>
                                    <div class="colon-title">
                                        <span> [[item.message]]</span>
                                    </div>
                                    <!-- Bu div Hdd Tarama kontrolü ile ilgilidir-->
                                    <template is="dom-if" if="[[item.isHdd]]">
                                        <!-- isHdd sadece hdd partında doğrudur-->
                                        <div class="hdd-control-box">
                                            <template is="dom-if" if="[[item.upToDate]]">
                                                <!-- sistem son güncellemesi bugün yapılmıssa-->
                                                <p style$="color:[[item.color]]">Son güncelleme bugün içinde yapılmış.</p>
                                            </template>
                                            <template is="dom-if" if="[[!item.upToDate]]">
                                                <!-- sistem güncellemesi üzerinden 1den fazla gün geçmiş ise -->
                                                <p style$="color:[[item.color]]">Son tarama zamanı : [[item.lastScanTime]]</p>
                                            </template>
                                        </div>
                                    </template>
                                </div>

                            </div>

                        </div><!-- tile -->
                    </template>


                </template>
                <!-- eğer üye olunmuş fakat sistem tanımlanmamışsa burası çıkar -->
                <template is="dom-if" if="[[!kaldirir.useradded]]">
                    <paper-item heading="" style$="background-color: [[bc]]; color: [[mc]]">
                        <div style="flex-grow: 2;"><h2>Sistemin {{gamename}} oyununu kaldırır mı?</h2></div>
                        <div>
                            <paper-button onclick="load(); location.href='/sistem-sihirbazi'; ">Sistem Sihirbazını Çalıştır</paper-button>
                            <paper-button onclick="load(); location.href='/uye/sistemini-tanimla';">Sistemini Elle Tanımla</paper-button>
                        </div>
                    </paper-item>

                    <paper-button class="pb_nav_left" onclick="load(); location.href='/sistem-sihirbazi'; "><iron-icon icon="image:wb-incandescent"></iron-icon> Sistem Sihirbazını Çalıştır</paper-button>
                    <paper-button class="pb_nav_right" onclick="load(); location.href='/uye/sistemini-tanimla';">Sistemini Elle Tanımla <iron-icon icon="icons:fingerprint"></iron-icon></paper-button>

                </template>
                <!-- end üye fakat sistem tanımlı değil -->
            </paper-material>
        </template>


        <!--<template is="dom-if" if="[[kaldirir.kaldirirmi]]">
            <div id="kal-man" style="background: url('../../../img/kalman/kalman-success.gif'); background-size: cover; background-repeat: no-repeat; background-position: center center;"></div>
        </template>
        <template is="dom-if" if="[[!kaldirir.kaldirirmi]]">
            <div id="kal-man" style="background: url('../../../img/kalman/kalman-failed.gif'); background-size: cover; background-repeat: no-repeat; background-position: center center;"></div>
        </template>-->

    </template>
    <script>
    Polymer({

        is: 'game-animated-grid',

        behaviors: [
          Polymer.NeonSharedElementAnimatableBehavior
        ],

        properties: {
            kalnotes: {
                type: Object,
                value: [],
                notify: true
            },
            kaldirir: {
                type: Object,
                value: [],
                notify: true
            },
            page: {
                type: Number,
                value: 0
            },
            hardwaretype: {
                type: String,
                value: '',
                notify: true
            },
            query: {
                type: String,
                value: ''
            },
            gamename: {
                type: String,
                value: '',
                notify: true
            },
            loadinggames: {
                type: Boolean,
                value: false
            },
            games: {
                type: Array,
                value: []
            },
            bc: {
                type: String,
                value: '',
                notify: true
            },
            mc: {
                type: String,
                value: '',
                notify: true
            },
            config: {
                type: Array,
                value: function () {
                    return [
                      { value: 1, color: 'blue' },
                      { value: 2, color: 'red' },
                      { value: 3, color: 'blue' },
                      { value: 4, color: 'green' },
                      { value: 5, color: 'yellow' },
                      { value: 6, color: 'blue' },
                      { value: 7, color: 'red' },
                      { value: 8, color: 'green' },
                      { value: 9, color: 'yellow' },
                      { value: 10, color: 'red' },
                      { value: 11, color: 'yellow' },
                      { value: 12, color: 'blue' },
                      { value: 13, color: 'red' },
                      { value: 14, color: 'red' },
                      { value: 15, color: 'yellow' },
                      { value: 16, color: 'red' },
                      { value: 17, color: 'yellow' },
                      { value: 18, color: 'red' },
                      { value: 19, color: 'green' },
                      { value: 20, color: 'yellow' },
                      { value: 21, color: 'red' },
                      { value: 22, color: 'yellow' },
                      { value: 23, color: 'blue' },
                      { value: 24, color: 'red' },
                      { value: 25, color: 'green' },
                      { value: 26, color: 'yellow' },
                      { value: 27, color: 'red' },
                    ]
                }
            },

            animationConfig: {
                type: Object,
                value: function () {
                    return {
                        'exit': [{
                            name: 'ripple-animation',
                            id: 'ripple',
                            fromPage: this
                        }, {
                            name: 'hero-animation',
                            id: 'hero',
                            fromPage: this
                        }]
                    }
                }
            }

        },
        listeners: {
            click: '_onClick'
        },
        _computeTileClass: function (color) {
            return 'tile ' + color + '-300';
        },
        _onClick: function (event) {
            if (this.kaldirir.useradded) {
                //console.log('_onClick');
                var target = event.target;
                while (target !== this && !target._templateInstance) {
                    target = target.parentNode;
                }
                /* FULLSIZE ' a gönderilecek datalar */
                this.hardwaretype = target._templateInstance.item.hardwaretype;
                this.selectedInstance = target._templateInstance.item;

                //console.log('selectedImage: ' + this.selectedInstance.image);


                // configure the page animation
                this.sharedElements = {
                    'hero': target,
                    'ripple': target
                };
                this.animationConfig['exit'][0].gesture = {
                    x: event.x || event.pageX,
                    y: event.y || event.pageY
                };

                this.fire('tile-click', {
                    tile: target,
                    data: target._templateInstance.item
                });
            }
        },

    });
    </script>
</dom-module>


﻿


<dom-module id="game-fullsize-page-with-card" assetpath="../oyun/">
    <template>
        <style include="shared-styles"></style>
        <style is="custom-style">
            :host {
                display: block;
                font-family: inherit;
            }

            .fixed {
                position: fixed;
                left: 0;
                height: 100vh;
                width: 100vw;
                z-index: 55;
            }

            #card {
                padding-bottom: 30px;
                z-index: 56;
                position: relative;
                height: auto;
                border-radius: 5px;
            }

            #pibCloseFrame {
                position: absolute;
                right: 5px;
                top: 5px;
            }



            div[card-divider] {
                width: 97%;
                height: 50px;
                border-bottom: 2px solid;
                margin: 0 auto;
            }

            .kal-success {
                color: green;
            }

            .kal-warning {
                color: red;
            }

            #card-container {
                width: 100%;
                @apply(--layout-vertical);
            }

                #card-container .card-container-column {
                    width: 100%;
                    height: auto;
                }
            /* LEFT SIDE STYLE */
            div[tile-container] {
                @apply(--layout-horizontal);
                @apply(--layout-center);
                width: 100%;
                white-space: normal !important;
                margin-top: 2%;
                margin-left: 3%;
            }

                div[tile-container] .game-headline {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                    color: white !important;
                    font-weight: 100;
                }

                    div[tile-container] .game-headline h2 {
                        /*font-size: calc(0.55em + 1vmin);*/
                        font-size: calc(0.85em + 1vmin);

                    }

                    div[tile-container] .game-headline p {
                        /*font-size: calc(0.80em + 1vmin);*/
                        font-size: calc(0.60em + 1vmin);
                        font-style: italic;
                        padding-left: 8px;
                    }

                div[tile-container] iron-icon {
                    padding-left: 5px;
                    /*width: calc(1.2em + 1vmin);*/
                    width: calc(2.2em + 1vmin);
                    color: white;
                    /*height: calc(1.2em + 1vmin);*/
                   height: calc(2.2em + 1vmin);

                }

                .marketing-actions span{
                     font-size: calc(0.7em + 1vmin);
                     /*font-size:calc(0.3em + 1vmin);*/
                }

                div[tile-container] .tile_container_image {
                    width: 30%;
                }

                div[tile-container] .tile_container_content {
                    /*width: 60%;*/
                    @apply(--layout-vertical);
                    width: 100%;
                }

            .main-title {
                text-align: center;
                padding: 5px;
                margin: 0;
            }

            .pbMarketing {
                /*color: white;
                background-color: #3CBA54;*/
                margin-bottom: 7px;
                width: 410px;
            }

            .game-title > div > a {
                text-decoration: none !important;
                @apply(--layout-horizontal);
            }

                .game-title > div > a > img {
                    width: 15%;
                    padding-left: 10px;
                    padding-top: 5px;
                    padding-bottom: 10px;
                    height: 35px;
                }

                .game-title > div > a > paper-button {
                    text-decoration: none;
                }

            .hdd-control-box {
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }

                .hdd-control-box .upToDateIcon{
                    color: #000 !important;
                }
                .hdd-control-box p{
                  color:#292929;
                   font-style:italic; 
                   /*font-size:calc(0.25em + 1vmin);*/
                   font-size:calc(0.55em + 1vmin);

                }


                .hdd-control-box .hdd-control-box-nav-buttons {
                    @apply(--layout-horizontal);
                }

                    .hdd-control-box .hdd-control-box-nav-buttons paper-button {
                        font-size: calc(0.3em + 1vmin);
                        color: #292929;
                        font-weight: bold;
                    }

                        .hdd-control-box .hdd-control-box-nav-buttons paper-button iron-icon {
                            color: inherit !important;
                        }


            paper-card {
                box-sizing: border-box;
                max-width: 90%;
                margin: 4px;
                flex: 0 0 auto;
                --paper-card-header-color: white;
                border-radius: 8px;
            }

                paper-card .card-content {
                    padding: 8px !important;
                }

                paper-card .card-actions {
                    padding: 5px 10px !important;
                    @apply(--layout-horizontal);
                }

                    paper-card .card-actions a {
                        text-decoration: none;
                        color: white !important;
                    }


            #marketing-cards {
                flex-flow: row wrap;
                -ms-flex-flow: row wrap;
                display: -ms-flexbox;
                display: -webkit-flex;
                display: flex;
                -ms-flex-direction: row;
                -webkit-flex-direction: row;
                flex-direction: row;
            }

            paper-card .marketing-actions {
                @apply(--layout-vertical);
            }

                paper-card .marketing-actions .marketing-actions-column {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                }

                    paper-card .marketing-actions .marketing-actions-column .actions-column-title {
                        flex-grow: 2;
                        margin-left: 13px;
                        font-weight: 100;
                        /*font-size: calc(0.4em + 1vmin);*/
                        font-size: calc(0.73em + 1vmin);
                        padding-bottom: 5px;
                    }

                    paper-card .marketing-actions .marketing-actions-column .actions-column-image {
                        width: 13%;
                        height: 30px;
                        border-radius: 40%;
                        margin-bottom: 10px;
                    }

                    paper-card .marketing-actions .marketing-actions-column a paper-icon-button {
                        width: calc(2em + 1vmin) !important;
                        height: calc(2em + 1vmin) !important;
                    }

            #backstatus-alert {
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }

            #marketing-cards paper-card:nth-of-type(1), #marketing-cards paper-card:nth-of-type(4) {
                width: 300px;
            }

            #marketing-cards paper-card:nth-of-type(2), #marketing-cards paper-card:nth-of-type(3) {
                width: 200px;
            }

            #marketing-cards paper-card:nth-of-type(1) {
                background-color: #008744;
            }

            #marketing-cards paper-card:nth-of-type(4) {
                background-color: #0057e7;
            }

            #marketing-cards paper-card:nth-of-type(2) {
                background-color: #d62d20;
            }

            #marketing-cards paper-card:nth-of-type(3) {
                background-color: #ffa700;
            }

            @media only screen and (min-width : 1024px) { /* zoom %175 */
               #card-container{
                  -webkit-flex-direction: row !important;
                  flex-direction: row !important;
               }

                #card-container .card-container-column {
                    width: 50%;
                }

                 div[tile-container] .game-headline h2 {
                        font-size: calc(0.55em + 1vmin);

                    }

                    div[tile-container] .game-headline p {
                        /*font-size: calc(0.80em + 1vmin);*/
                        font-style: italic;
                        padding-left: 8px;
                    }

                div[tile-container] iron-icon {
                    padding-left: 5px;
                    width: calc(1.2em + 1vmin);
                    color: white;
                    height: calc(1.2em + 1vmin);
                }

                .marketing-actions span{
                     font-size:calc(0.3em + 1vmin);
                }

                 paper-card .marketing-actions .marketing-actions-column .actions-column-title {
                        font-size: calc(0.4em + 1vmin) !important;
                    }

                  .hdd-control-box p{
                   font-size:calc(0.25em + 1vmin) !important;

                }
                  .hdd-control-box-nav-buttons paper-button{
                  font-size: calc(0.15em + 1vmin) !important;
                    }

                .googlesearcherbutton {
                    font-size: calc(0.35em + 1vmin) !important;
                }
            }

            .googlesearcherbutton{
                font-weight:100;
                text-transform: capitalize;
                font-size: calc(0.75em + 1vmin);
                margin-bottom: 10px;
                margin-left: 0px;

            }

        </style>
        <iron-ajax auto="" url="/h/main?fm=get-hardware-backlinks-of-game&amp;a=[[gamename]]&amp;b=[[hardwaretype]]" method="get" handle-as="json" last-response="{{hardware_marketing}}"></iron-ajax>

        <div id="fixed"></div>
        <div style$="background-color: {{bc}}; color: {{mc}}" id="card" class$="[[_computeCardClass(color)]]">
            <paper-icon-button id="pibCloseFrame" icon="close" on-click="_onFullsizeClick"></paper-icon-button>
            <paper-tooltip for="pibCloseFrame" position="left" animation-delay="0">Pencereyi Kapat</paper-tooltip>
            <div card-divider=""></div>
            <h3 class="main-title">Senin için ürünü satın alabileceğin siteleri taradım.</h3>
            <div id="card-container">
                <div class="card-container-column" style$="background-color:#292929; color:white !important; border-right: 1px solid {{mc}}; border-left: 1px solid {{mc}};">
                    <div tile-container="">
                        <div class="tile_container_content">
                            <paper-card style$="background-color:[[data.color]];">
                                <div class="card-content game-headline">
                                    <img src="/assets/img/gamepage-icon/[[data.image]]" style$="width: {{_getDataWidth(hardwaretype)}}">
                                    <h2>Senin [[data.name]]</h2>
                                    <p>[[data.userhardware]]</p>
                                    <iron-icon icon$="[[data.icon]]"></iron-icon>
                                </div>
                                <div class="card-actions marketing-actions" style="margin-bottom:20px;">
                                    <span> [[data.message]]</span>
                                    <!-- Bu div Hdd Tarama kontrolü ile ilgilidir-->
                                    <template is="dom-if" if="[[data.isHdd]]">
                                        <!-- isHdd sadece hdd partında doğrudur-->
                                        <div class="hdd-control-box">
                                            <template is="dom-if" if="[[data.upToDate]]">
                                                <!-- sistem son güncellemesi bugün yapılmıssa-->
                                                <iron-icon class="upToDateIcon" icon="icons:done-all"></iron-icon>
                                                <p>Son güncelleme bugün içinde yapılmış.</p>
                                            </template>
                                            <template is="dom-if" if="[[!data.upToDate]]">
                                                <!-- sistem güncellemesi üzerinden 1den fazla gün geçmiş ise -->
                                                <iron-icon class="upToDateIcon" icon="icons:update"></iron-icon>
                                                <p>Son tarama zamanı : [[data.lastScanTime]]</p>

                                                <div class="hdd-control-box-nav-buttons">
                                                    <paper-button style$="color:[[data.color]]; background-color: #292929;" raised="" onclick="load(); location.href='/sistem-sihirbazi'; "> <iron-icon icon="image:wb-incandescent"></iron-icon> Sistem Sihirbazını Çalıştır</paper-button>
                                                    <paper-button style$="color:[[data.color]]; background-color: #292929;" raised="" onclick="load(); location.href='/uye/sistemini-tanimla';"><iron-icon icon="icons:fingerprint"></iron-icon> Sistemini Elle Güncelle</paper-button>
                                                </div>
                                            </template>
                                        </div>
                                    </template>
                                </div>

                            </paper-card>

                        </div>
                    </div>
                </div>
                <div class="card-container-column" style$="background-color:#292929; color:white !important; border-right: 1px solid {{mc}}; border-left: 1px solid {{mc}};">
                    <template is="dom-repeat" items="{{hardware_marketing}}" as="marketing">
                        <div tile-container="">
                            <div class="tile_container_content">
                                <paper-card style="background-color:#008744;">
                                    <div class="card-content game-headline">
                                        <img src="/assets/img/gamepage-icon/[[data.successImage]]" style$="width: {{_getDataWidth(hardwaretype)}}">
                                        <h2>Önerilen [[data.name]]</h2>
                                        <p>{{_remakeMarketingName(data.name)}}  [[marketing.name]]</p>
                                    </div>
                                    <div class="card-actions marketing-actions">
                                        <a href$="{{_remakeGoogleSearchQuery(data.name, marketing.name)}}" target="_blank" onclick="load();">
                                            <paper-button class="googlesearcherbutton" raised=""><b>[[marketing.name]]</b> ürününü satın alabileceğim yerleri göster</paper-button>
                                        </a>

                                        <!--
                                            Daha sonra ürünlerin satılacağı site olunca kullanılacak.!

                                            <template is="dom-repeat" items="{{marketing.backlinks}}" as="links">
                                            <template is="dom-if" if="[[links.backstatus]]">
                                                <div class="marketing-actions-column">
                                                    <img alt="[[links.backname]]" class="actions-column-image" src="assets/img/gamepage-icon/marketinglogos/[[links.backname]].png" />
                                                    <div class="actions-column-title">[[links.backname]]</div>
                                                    <a href$="[[links.backlink]]" target="_blank">
                                                        <paper-icon-button id="pibGoDetails" style="color:white;" icon="hardware:keyboard-arrow-right"></paper-icon-button>
                                                        <paper-tooltip position="left" for="pibGoDetails">Sitede Ürünü İncele</paper-tooltip>
                                                    </a>
                                                </div>
                                            </template>
                                            <template is="dom-if" if="[[!links.backstatus]]">
                                                <div id="backstatus-alert">
                                                    <iron-icon style="color:white;" icon="notification:sim-card-alert"></iron-icon>
                                                    <span>[[links.backname]]</span>
                                                </div>
                                            </template>
                                        </template>-->
                                    </div>

                                </paper-card>

                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </template>
    <script>
    Polymer({

        is: 'game-fullsize-page-with-card',

        behaviors: [
          Polymer.NeonSharedElementAnimatableBehavior
        ],

        properties: {
            hardwaretype: {
                type: String,
                notify: true
            },
            data: {
                type: Object,
                notify: true
            },
            bc: {
                type: String
            },
            mc: {
                type: String
            },
            gamename: {
                type: String,
                value: '',
                notify: true
            },
            sharedElements: {
                type: Object,
                value: function () {
                    return {
                        'hero': this.$.card,
                        'ripple': this.$.fixed
                    }
                }
            },

            animationConfig: {
                type: Object,
                value: function () {
                    return {
                        'entry': [{
                            name: 'ripple-animation',
                            id: 'ripple',
                            toPage: this,
                        }, {
                            name: 'hero-animation',
                            id: 'hero',
                            toPage: this,
                            timing: {
                                delay: 150
                            }
                        }],
                        'exit': [{
                            name: 'fade-out-animation',
                            node: this.$.fixed
                        }, {
                            name: 'transform-animation',
                            transformFrom: 'none',
                            transformTo: 'translate(0px,-200vh) scale(0.9,1)',
                            node: this.$.card
                        }]
                    }
                }
            }

        },

        _response: function (a) {
            //console.log('GAME BACKLINK : _response and type:=>' + this.hardwaretype + 'Gamename' + this.gamename);

            //this.gamegallery = [];

            //if (a.detail.response.length > 0) {
            //    var cnt = 0;
            //    a.detail.response.forEach(function (gallery) {
            //        if (cnt == 0)
            //        { this.bigpicture = gallery.gallerypicture; this.galleryurl = 'galeri/' + gallery.galleryurl; cnt++; }
            //        else this.push('gamegallery', gallery);
            //    }, this);
            //}
        },
        _computeCardClass: function (color) {
            var cls = 'card';
            if (color) {
                cls += ' ' + color + '-300';
            }
            return cls;
        },
        _computeFixedBackgroundClass: function (color) {
            var cls = 'fixed';
            if (color) {
                cls += ' ' + color + '-100';
            }
            return cls;
        },
        _onFullsizeClick: function () {
            document.getElementById('pages').selected = 0;
        }
      , dateFormat: function (date, format) {
          return 'hakan';
      },
        _getNameOfLink: function (name) {
            //console.log('yo! + ' + name);
            return name.split('.')[1];
        },
        _getTrHardware: function (name) {
            if (name == 'cpu') return 'Önerilen İşlemci : ';
            if (name == 'gpu') return 'Önerilen Ekran Kartı : ';
            if (name == 'ram') return 'Bellek almak için önerdiğimiz siteler : ';
            if (name == 'hdd') return 'Hard Disk almak için önerdiğimiz siteler : ';

        },
        _getDataWidth: function (name) {
            var currentWidth = '';

            if (name == 'cpu') currentWidth = '8%; padding-right:10px';
            if (name == 'gpu') currentWidth = '10%; padding-right:10px;';
            if (name == 'ram') currentWidth = '10%; margin-left:10px;padding-right:10px';
            if (name == 'hdd') currentWidth = '6%; transform: rotateZ(90deg); margin-left:3%; margin-right:10px';

            return currentWidth;

        },
        _remakeMarketingName: function (name) {
            if (name === 'Ekran Kartı' || name === 'İşlemci') {
                return '';
            }
            else if (name === 'RAM') return '16 GB';
            else if (name === 'Hard Disk') return '1 TB';
        },
        _remakeGoogleSearchQuery: function (type, marketing) {
            var query = 'http://www.google.com/search?q=';
            var _end = ' satın al';

            if (type === 'Ekran Kartı' || type === 'İşlemci') {
                query += marketing + _end;
            }
            else if (type === 'RAM') query += '16 GB RAM' + _end;
            else if (type === 'Hard Disk') query += '1 TB Hard disk' + _end;

            return query;
        }

    });

</script>
</dom-module>



﻿
<dom-module id="kaldirirmi-other-games-in-series" assetpath="../oyun/">
    <template>
        <style>
            /* local DOM styles go here */
            :host {
                width: 100%;
                color: white;
            }

            #othergamesinseries {
                @apply(--layout-horizontal);
                flex-flow: row wrap;
                -ms-flex-flow: row wrap;
                width: 100%;
                height: auto;
                margin-left: 50px;
                margin-top: 20px;
            }

            .game {
                @apply(--layout-vertical);
                @apply(--layout-center);
                margin: 5px;
                background-color: #222;
                transition: all ease .2s;
                cursor: pointer;
                width: 183px;
                height: 300px;
                position: relative;
                text-decoration: none;
            }

                .game iron-image {
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    transition: all ease-in .2s;
                    opacity: .7;
                    background-color: #222;
                }

                .game .game-title {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                    color: white;
                    height: calc(2.2em + 1vmin);
                    padding: 7px 0px;
                }

                    .game .game-title span {
                        white-space: normal;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        text-align: center;
                        align-self: center;
                    }

                .game:hover iron-image[background] {
                    opacity: 1;
                }

            .loadingIndicator {
                text-align: center;
                height: 40px;
                color: white;
            }

                .loadingIndicator paper-spinner-lite {
                    width: 20px;
                    height: 20px;
                    margin-right: 10px;
                    --paper-spinner-color: #ff7800;
                }

            .paper-tab-games paper-button {
                width: 100%;
            }

            .paper-tab-games {
                background-color: #ff7800;
                border-color: #d66300;
                color: white;
            }

            .release-date-title {
                color: white;
                font-family: inherit;
                text-decoration: solid;
                margin: 0 auto;
                display: block;
                background-color: inherit;
                width: 40%;
                font-size: 22px;
                border-style: solid;
                border-width: 1px;
            }

            paper-item[heading] {
                color: white;
                font-size: 20px;
            }

                paper-item[heading] paper-button {
                    font-size: 14px;
                }

            paper-item[empty-info], paper-item[info] {
                color: white;
                font-size: 16px;
                padding-bottom: 20px;
            }

            paper-item[info] {
                @apply(--layout-vertical);
                @apply(--layout-center);
            }

            .tb {
                color: white;
                font-size: 20px;
            }

            #pap-mat-other-games {
                   padding: 10px 0px;
            }

            .pb_heading {
                display: flex;
                text-transform: none;
                margin-left: -10px;
                padding: 0;
                font-size: 20px;
                margin-left: 0px;
            }

                .pb_heading .ic_heading {
                    padding-top: 0;
                    padding-left: 0;
                }



            /* Custom, iPhone Retina */
            @media only screen and (min-width : 320px) {
                .game {
                    width: 109px;
                    height: 220px;
                }

                    .game .game-title {
                        height: calc(4em + 1vmin);
                    }

                        .game .game-title span {
                            font-size: calc(0.5em + 1vmin) !important;
                            padding-left: 5px;
                        }

                #othergamesinseries {
                    margin-top: 15px;
                    margin-left: 0px;
                }
            }

            /* Custom, Galaxy S5 */
            @media only screen and (min-width : 360px) {
                .game {
                    width: 128px !important;
                    height: 220px !important;
                }

                    .game .game-title {
                        height: calc(3.5em + 1vmin) !important;
                    }

                        .game .game-title span {
                            font-size: calc(0.6em + 1vmin);
                        }
            }

            /* Iphone 6s plus */
            @media only screen and (min-width : 412px) {
                .game {
                    width: 145px !important;
                    height: 236px !important;
                }

                #othergamesinseries {
                    margin-top: 20px !important;
                    margin-left: 15px !important;
                }
            }

            /* Extra Small Devices, Phones */
            @media only screen and (min-width : 480px) {
                .game {
                    width: 151px !important;
                    height: 240px !important;
                }

                #othergamesinseries {
                    margin-left: 65px !important;
                    margin-top: 25px !important;
                }
            }

            /* Small Devices, Tablets */
            @media only screen and (min-width : 768px) {
                .game {
                    width: 170px !important;
                    height: 275px !important;
                }

                    .game .game-title span {
                        FONT-SIZE: calc(0.44em + 1vmin);
                    }

                #othergamesinseries {
                    margin-left: 126px !important;
                    margin-top: 25px !important;
                }
            }

            /* Desktops and laptops ----------- */
            @media only screen and (min-width : 1024px) { /* zoom %175 */

            }

            @media only screen and (min-width : 1224px) { /* zoom %150 */

                 .game {
                    width: 183px !important;
                    height: 300px !important;
                }

                  #othergamesinseries {
                    margin-left: 50px !important;
                }
            }

            @media only screen and (min-width : 1440px) { /* zoom % 125*/
                 #othergamesinseries {
                    margin-left: 5px !important;
                }
            }

            @media only screen and (min-width : 1640px) { /* zoom %110*/

            }
            /* Large screens ----------- */
            @media only screen and (min-width : 1824px) {
                  #othergamesinseries {
                    margin-left: 95px !important;
                }
            }
        </style>
        <!-- local DOM goes here -->
        <iron-ajax auto="" id="getothergamesinseries" url="/h/main?fm=get-other-games-in-series&amp;a=[[gamename]]" method="get" handle-as="json" on-response="_response"></iron-ajax>
        <paper-material elevation="0" id="pap-mat-other-games" role="listbox">
            <template is="dom-if" if="[[visibility]]">
                <paper-item heading="" style$="background-color:{{bca}}; color:{{mc}}">
                    <paper-button class="pb_heading" style="font-size:18px" on-click="_showOrHidePanel">
                        <p>Serinin Diğer Oyunları</p>
                        <!--<iron-icon class="ic_heading" icon="add-circle-outline"></iron-icon>-->
                    </paper-button>

                </paper-item>
                <paper-item info="" style="display:flex" id="paperItemOtherGames" style$="background-color:{{bc}}; color:{{mc}}">
                    <div id="othergamesinseries">
                        <template is="dom-repeat" items="{{games}}" as="item">
                            <a class="game" href="/oyun/[[item.url]]" onclick="load();" style$="background-color: {{mc}}">
                                <iron-image background="" src="//cdn.kaldirirmi.com/images/games/[[item.picture]]" sizing="cover" alt="[[item.name]]" preload="" fade=""></iron-image>
                                <div class="game-title" style$="background-color: {{mc}}; color: {{bc}};"><span>[[item.name]]</span></div>
                            </a>
                        </template>
                    </div>
            </paper-item></template>
        </paper-material>
    </template>
    <script>
        Polymer({
            is: "kaldirirmi-other-games-in-series",
            properties: {
                gamename: {
                    type: "String",
                    value: "Action",
                    notify: true
                },
                visibility: {
                    type: Boolean,
                    value: false,
                    notify: true
                },
                games: {
                    type: Array,
                    value: []
                },
                bc: {
                    type: String,
                    value: 'rgb(255,255,255)',
                    notify: true
                },
                bca: {
                    type: String,
                    value: 'rgba(255,255,255, 0.6)',
                    notify: true
                },
                mc: {
                    type: String,
                    value: 'rgb(0,0,0)',
                    notify: true
                },
            },
            _response: function (a) {

                if (a.detail.response.length > 0) {
                    this.visibility = true;
                    a.detail.response.forEach(function (game) {
                        this.push('games', game);
                    }, this);
                }
                else
                    this.visibility = false;
            },
            _showOrHidePanel: function () {
                var item = document.getElementById('paperItemOtherGames');
                if (item && item.style.display == 'none')
                    item.style.display = 'flex';
                else
                    item.style.display = 'none';

            } //_showOrHidePanel


        });
    </script>
</dom-module>

﻿

<dom-module id="user-like-game" assetpath="../oyun/">
    <template>
        <style>
            :host {
                display: block;
            }

            .loadingIndicator {
                text-align: center;
                height: 40px;
                color: white;
            }

                .loadingIndicator paper-spinner-lite {
                    width: 20px;
                    height: 20px;
                    margin-right: 10px;
                    --paper-spinner-color: #ff7800;
                }


            #pibInteractionButton{
                opacity: 0.8;
                padding: 5px !important;
                transition: all ease-in-out .3s;
            }
            #pibInteractionButton:hover{
                opacity: 1;
                padding: 2px !important;
            }

            .like-container{
                    background: #DD9105;
                    padding: 1.25px;
                    display:flex;
                    justify-content:center;
            }

               
             paper-tooltip.custom-tooltip{
                 --paper-tooltip-background: #ff7800;
                 --paper-tooltip-text-color: #fff;
                 width: 160px;
                 --paper-tooltip: { font-size: 16px;}
             }
           
        </style>
        <paper-toast id="userlikealert" duration="3000" class="fit-bottom" style$="background-color: [[mc]]; color: [[bc]]; font-weight: bold"></paper-toast>

        <iron-ajax auto="" id="iaCheckGame" debounce="3000" url="/h/main?fm=check-is-game-liked&amp;a=[[gid]]" handle-as="json" on-response="_responseCheck" loading="{{loadingcheck}}"></iron-ajax>
        <form id="formInteractionRequest" is="iron-form" action="/h/main" on-iron-form-response="_responseInteractionRequestForm" method="post">
            <input type="hidden" name="fm" value="send-request-like-game">
            <input type="hidden" id="gameid" name="gameid" value="[[gid]]">
            <input type="hidden" id="isliked" name="isliked" value="[[likeState]]">
        </form>

        <div class="loadingIndicator" hidden$="[[!loadingcheck]]">
            <paper-spinner-lite active$="[[loadingcheck]]"></paper-spinner-lite>
        </div>
        <div hidden$="[[loadingcheck]]" class="like-container">
            <paper-icon-button icon="[[icon]]" id="pibInteractionButton" on-tap="_clickInteractionButton"></paper-icon-button>
            <paper-tooltip class="custom-tooltip" for="pibInteractionButton" position="bottom">[[likedstatus]]</paper-tooltip>

        </div>

    </template>
    <script>
        Polymer({
            is: "user-like-game",
            properties: {
                gid: {
                    type: Number,
                },
                likeState:{
                    type: Number,
                    value: 0,
                    notify: true
                },
                go: {
                    type: Boolean,
                    value: false,
                    notify: true
                },
                isliked: {
                    type: Boolean,
                    value: true,
                    notify: true
                },
                loadingcheck: {
                    type: Boolean,
                    value: false,
                    notify: true
                },
                firstTime: {
                    type: Boolean,
                    value: false,
                    notify: true
                },
                icon: {
                    type: String,
                    value: 'thumb-up',
                    notify: true
                },
                counter: {
                    type: Number,
                    value: 0,
                    notify: true
                },
                bc: {
                    type: String,
                    value: '',
                    notify: true
                },
                mc: {
                    type: String,
                    value: '',
                    notify: true
                },
                likedstatus: {
                    type: String,
                    value: 'Oyunu beğenmek için Tıkla!',
                    notify: true
                },
                username: {
                    type: String,
                    value: '',
                    notify: true
                }
            },
            _responseCheck: function (event) {
                var response = event.detail.response;
                //console.log('_responseCheck' + response.message);
                var message = response.message;
                var result = message.split(' ')[1];
                var time = message.split(' ')[3];
                if (result === 'True') {
                    this.isliked = true;
                    this.likedstatus = 'Oyunu Beğendin!';
                }
                else {
                    this.isliked = false;
                    this.likedstatus = 'Oyunu Beğenmedin!';
                }

                if (time === 'True') {
                    this.firstTime = true;
                    this.likedstatus = 'Oyunu beğenmek için Tıkla!';
                }
                else {
                    this.firstTime = false;
                }

                if (this.username === '') {
                    this.firstTime = true;
                    this.likedstatus = 'Oyunu beğenmek için Giriş Yapmalısın';

                }
                this._designIcons();
                //console.log('Eend checj => isLiked' +  this.isliked  + ' , firstTime => ' + this.firstTime);
            },
            _clickInteractionButton: function (event) {
                var systemAlert = document.getElementById('userlikealert');

                if (this.username === '') {

                    document.getElementById('pibInteractionButton').disabled = true;
                    systemAlert.setAttribute('text', 'Oyunu Beğenmek için Giriş Yapmalısın');
                    systemAlert.open();

                }
                else {
                    //console.log('_clickInteractionButton');
                    if (this.isliked) {
                        //eğer likelı ise dislike için 1 ata!
                        this.likeState = 1;
                    }
                    else if (!this.isliked) {
                        //likelı değil ise like için 1 ata!
                        this.likeState = 0;
                    }

                    this.counter++;

                    if (this.counter >= 4) {
                       
                        systemAlert.setAttribute('text', 'Al Kırdın Kırdın ! :/');
                        systemAlert.open();

                        document.getElementById('pibInteractionButton').disabled = true;
                    }
                    else {
                        document.getElementById('formInteractionRequest').submit();
                    }

                    //this.isliked = !this.isliked;
                    //this._designIcons();

                }
            },
            _responseInteractionRequestForm: function (event) {
                var response = event.detail.response;
                //console.log('_responseInteractionRequestForm');

                var systemAlert = document.getElementById('userlikealert');
                systemAlert.setAttribute('text', response.message);

                if (response.success) {
                    this.$.iaCheckGame.generateRequest();
                }
                else {
                    unload();
                    document.getElementById('formInteractionRequest').reset();
                }
                systemAlert.open();
            },
            _designIcons: function () {
                if (this.firstTime) {
                    this.icon = 'thumb-up';
                    this._colorChanger(false);
                }
                else if (!this.firstTime) {
                    if (this.isliked) {
                        this.icon = 'thumb-up';
                        this._colorChanger(true);
                    }
                    else if (!this.isliked) {
                        this.icon = 'thumb-down';
                        this._colorChanger(false);
                    }
                }


            },
            _colorChanger: function (status) {
                if (status) {
                    document.getElementById('pibInteractionButton').style.color = '#E5DBCF';
                }
                else {
                    document.getElementById('pibInteractionButton').style.color = '#1b1616';
                }
            },

        });

    </script>
</dom-module>

﻿
﻿<dom-module id="kaldirirmi-similargames-shared-styles" assetpath="../../kaldirirmi-styles/">
    <template>
        <style>
            :host {
                width: 100%;
                color: white;
            }

            .paper-tabs-games {
                padding-top: 20px;
            }

            .paper-tab-games {
                color: black;
                background-color: white;
                border: 1px solid gray;
            }

            #similargamelist {
                @apply(--layout-horizontal);
                @apply(--layout-center-center);
                flex-flow: row wrap;
                -ms-flex-flow: row wrap;
                width: 100%;
                height: auto;
            }

            .game {
                @apply(--layout-vertical);
                @apply(--layout-center);
                margin: 5px;
                background-color: #222;
                transition: all ease .2s;
                cursor: pointer;
                position: relative;
                text-decoration: none;
            }

                .game iron-image {
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    transition: all ease-in .2s;
                    opacity: .7;
                    background-color: #222;
                }

            .game {
                transition: all .3s;
            }

                .game:hover {
                    transform: translateY(-40px);
                    -webkit-transform: translateY(-40px);
                    margin: 20px;
                    transform: scale(1.5);
                }

                .game .game-title {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                    color: white;
                    height: 44px;
                    padding: 0 5px;
                    background: #ff7800;
                    width: 173px;
                }

                    .game .game-title span {
                        width: 173px;
                        @apply(--paper-font-common-nowrap);
                        text-align: center;
                    }

                .game:hover iron-image[background] {
                    opacity: 1;
                }

            .similir {
                width: 100%;
                height: auto;
            }

                .similir paper-button {
                    display: block;
                    color: white;
                    opacity: 0.77;
                    margin: 0 auto;
                    width: 50%;
                    text-align:center;
                    font-size: calc(0.5em + 1vmin);
                    font-family: 'Roboto', 'Arial Narrow', Arial, sans-serif;
                }

            @media only screen and (min-width : 1024px) { /* zoom %175 */
                #similargamelist {
                    margin-bottom: 1px;
                }

                    #similargamelist .game {
                        width: 70px;
                        height: 101px;
                    }

                    #similargamelist #game3 {
                        display: none;
                    }

                    #similargamelist #game4 {
                        display: none;
                    }
            }

            @media only screen and (min-width : 1224px) { /* zoom %150 */
                #similargamelist {
                    margin-bottom: 1px;
                }

                    #similargamelist .game {
                        width: 89px;
                        height: 106px;
                    }
            }

            @media only screen and (min-width : 1440px) { /* zoom % 125*/

                #similargamelist {
                    margin-bottom: 6px;
                }

                    #similargamelist .game {
                        width: 90px;
                        height: 114px;
                    }

                    #similargamelist #game3 {
                        display: block;
                    }
            }

            @media only screen and (min-width : 1640px) { /* zoom %110*/
                #similargamelist .game {
                    width: 90px;
                    height: 123px;
                }
            }

            @media only screen and (min-width : 1824px) {
                #similargamelist .game {
                    width: 95px;
                    height: 135px;
                }

                #similargamelist #game4 {
                    display: block;
                }
            }
        </style>
    </template>
</dom-module>
<dom-module id="kaldirirmi-similar-games" assetpath="../">
    <template>
        <style is="custom-style" include="kaldirirmi-similargames-shared-styles"></style>
    
        <iron-ajax auto="" id="getsimilargames" url="/h/main?fm=get-similar-games-via-genres&amp;a=[[genre]]" method="get" handle-as="json" on-response="_response"></iron-ajax>
        <div class="similir"><paper-button id="btnSimilir" raised="">Benzer oyunlar</paper-button></div>
        <div id="similargamelist">
            <template is="dom-repeat" items="{{games}}" as="item">
                <a id="game{{index}}" class="game" href="/oyun/[[item.url]]" onclick="load();">
                    <iron-image background="" src="//cdn.kaldirirmi.com/images/games/[[item.picture]]" sizing="cover" alt="[[item.name]]" preload="" fade=""></iron-image>
                </a>
            </template>
        </div>
    </template>
    <script>
        Polymer({
            is: "kaldirirmi-similar-games",
            properties: {
                genre: {
                    type: "String",
                    value: "Action", //default selected genre --> action
                    notify: true
                },
                games: {
                    type: Array,
                    value: []
                }
            },
            created: function () {

            },
            _response: function (a) {
                if (a.detail.response.length > 0) {

                    a.detail.response.forEach(function (game) {
                        this.push('games', game);
                    }, this);
                }
            }

        });

        $(document).ready(function () {
            $('#similargamelist').mouseover(function () {
                $('#btnSimilir').css('display', 'none');
            });
            $('#similargamelist').mouseout(function () {
                $('#btnSimilir').css('display', 'block');
            });
        });

    </script>

</dom-module>

﻿
﻿
﻿


﻿
<script>﻿/**
 * textFit v2.3.1
 * Previously known as jQuery.textFit
 * 11/2014 by STRML (strml.github.com)
 * MIT License
 *
 * To use: textFit(document.getElementById('target-div'), options);
 *
 * Will make the *text* content inside a container scale to fit the container
 * The container is required to have a set width and height
 * Uses binary search to fit text with minimal layout calls.
 * Version 2.0 does not use jQuery.
 */
/*global define:true, document:true, window:true, HTMLElement:true*/

(function (root, factory) {
    "use strict";

    // UMD shim
    if (typeof define === "function" && define.amd) {
        // AMD
        define([], factory);
    } else if (typeof exports === "object") {
        // Node/CommonJS
        module.exports = factory();
    } else {
        // Browser
        root.textFit = factory();
    }

}(typeof global === "object" ? global : this, function () {
    "use strict";

    var defaultSettings = {
        alignVert: false, // if true, textFit will align vertically using css tables
        alignHoriz: false, // if true, textFit will set text-align: center
        multiLine: false, // if true, textFit will not set white-space: no-wrap
        detectMultiLine: true, // disable to turn off automatic multi-line sensing
        minFontSize: 6,
        maxFontSize: 80,
        reProcess: true, // if true, textFit will re-process already-fit nodes. Set to 'false' for better performance
        widthOnly: false, // if true, textFit will fit text to element width, regardless of text height
        alignVertWithFlexbox: false, // if true, textFit will use flexbox for vertical alignment
    };

    return function textFit(els, options) {

        if (!options) options = {};

        // Extend options.
        var settings = {};
        for (var key in defaultSettings) {
            if (options.hasOwnProperty(key)) {
                settings[key] = options[key];
            } else {
                settings[key] = defaultSettings[key];
            }
        }

        // Convert jQuery objects into arrays
        if (typeof els.toArray === "function") {
            els = els.toArray();
        }

        // Support passing a single el
        var elType = Object.prototype.toString.call(els);
        if (elType !== '[object Array]' && elType !== '[object NodeList]' &&
                elType !== '[object HTMLCollection]') {
            els = [els];
        }

        // Process each el we've passed.
        for (var i = 0; i < els.length; i++) {
            processItem(els[i], settings);
        }
    };

    /**
     * The meat. Given an el, make the text inside it fit its parent.
     * @param  {DOMElement} el       Child el.
     * @param  {Object} settings     Options for fit.
     */
    function processItem(el, settings) {
        if (!isElement(el) || (!settings.reProcess && el.getAttribute('textFitted'))) {
            return false;
        }

        // Set textFitted attribute so we know this was processed.
        if (!settings.reProcess) {
            el.setAttribute('textFitted', 1);
        }

        var innerSpan, originalHeight, originalHTML, originalWidth;
        var low, mid, high;

        // Get element data.
        originalHTML = el.innerHTML;
        originalWidth = innerWidth(el);
        originalHeight = innerHeight(el);

        // Don't process if we can't find box dimensions
        if (!originalWidth || (!settings.widthOnly && !originalHeight)) {
            if (!settings.widthOnly)
                throw new Error('Set a static height and width on the target element ' + el.outerHTML +
                  ' before using textFit!');
            else
                throw new Error('Set a static width on the target element ' + el.outerHTML +
                  ' before using textFit!');
        }

        // Add textFitted span inside this container.
        if (originalHTML.indexOf('textFitted') === -1) {
            innerSpan = document.createElement('span');
            innerSpan.className = 'textFitted';
            // Inline block ensure it takes on the size of its contents, even if they are enclosed
            // in other tags like <p>
            innerSpan.style['display'] = 'inline-block';
            innerSpan.innerHTML = originalHTML;
            el.innerHTML = '';
            el.appendChild(innerSpan);
        } else {
            // Reprocessing.
            innerSpan = el.querySelector('span.textFitted');
            // Remove vertical align if we're reprocessing.
            if (hasClass(innerSpan, 'textFitAlignVert')) {
                innerSpan.className = innerSpan.className.replace('textFitAlignVert', '');
                innerSpan.style['height'] = '';
                el.className.replace('textFitAlignVertFlex', '');
            }
        }

        // Prepare & set alignment
        if (settings.alignHoriz) {
            el.style['text-align'] = 'center';
            innerSpan.style['text-align'] = 'center';
        }

        // Check if this string is multiple lines
        // Not guaranteed to always work if you use wonky line-heights
        var multiLine = settings.multiLine;
        if (settings.detectMultiLine && !multiLine &&
            innerSpan.scrollHeight >= parseInt(window.getComputedStyle(innerSpan)['font-size'], 10) * 2) {
            multiLine = true;
        }

        // If we're not treating this as a multiline string, don't let it wrap.
        if (!multiLine) {
            el.style['white-space'] = 'nowrap';
        }

        low = settings.minFontSize + 1;
        high = settings.maxFontSize + 1;

        // Binary search for best fit
        while (low <= high) {
            mid = parseInt((low + high) / 2, 10);
            innerSpan.style.fontSize = mid + 'px';
            if (innerSpan.scrollWidth <= originalWidth && (settings.widthOnly || innerSpan.scrollHeight <= originalHeight)) {
                low = mid + 1;
            } else {
                high = mid - 1;
            }
        }
        // Sub 1 at the very end, this is closer to what we wanted.
        innerSpan.style.fontSize = (mid - 1) + 'px';

        // Our height is finalized. If we are aligning vertically, set that up.
        if (settings.alignVert) {
            addStyleSheet();
            var height = innerSpan.scrollHeight;
            if (window.getComputedStyle(el)['position'] === "static") {
                el.style['position'] = 'relative';
            }
            if (!hasClass(innerSpan, "textFitAlignVert")) {
                innerSpan.className = innerSpan.className + " textFitAlignVert";
            }
            innerSpan.style['height'] = height + "px";
            if (settings.alignVertWithFlexbox && !hasClass(el, "textFitAlignVertFlex")) {
                el.className = el.className + " textFitAlignVertFlex";
            }
        }
    }

    // Calculate height without padding.
    function innerHeight(el) {
        var style = window.getComputedStyle(el, null);
        return el.clientHeight -
          parseInt(style.getPropertyValue('padding-top'), 10) -
          parseInt(style.getPropertyValue('padding-bottom'), 10);
    }

    // Calculate width without padding.
    function innerWidth(el) {
        var style = window.getComputedStyle(el, null);
        return el.clientWidth -
          parseInt(style.getPropertyValue('padding-left'), 10) -
          parseInt(style.getPropertyValue('padding-right'), 10);
    }

    //Returns true if it is a DOM element
    function isElement(o) {
        return (
          typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2
          o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string"
        );
    }

    function hasClass(element, cls) {
        return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;
    }

    // Better than a stylesheet dependency
    function addStyleSheet() {
        if (document.getElementById("textFitStyleSheet")) return;
        var style = [
          ".textFitAlignVert{",
            "position: absolute;",
            "top: 0; right: 0; bottom: 0; left: 0;",
            "margin: auto;",
            "display: flex;",
            "justify-content: center;",
            "flex-direction: column;",
          "}",
          ".textFitAlignVertFlex{",
            "display: flex;",
          "}",
          ".textFitAlignVertFlex .textFitAlignVert{",
            "position: static;",
          "}", ].join("");

        var css = document.createElement("style");
        css.type = "text/css";
        css.id = "textFitStyleSheet";
        css.innerHTML = style;
        document.body.appendChild(css);
    }
}));</script>

<dom-module id="textfit-div" class="flex" assetpath="../../textfit-div/">
    <style>
        :host {
            height: 100%;
            width: 100%;
        }

        .fullHeight {
            height: 100%;
            width: 100%;
        }
    </style>
    <template>
        <div id="fitMe" class="fullHeight">[[text]]</div>
    </template>
    <script>
  Polymer({
    is: 'textfit-div',
    behaviors: [
      Polymer.IronResizableBehavior
    ],
    properties: {
      /**
       * The text that will be displayed and fit into its container.
       *
       * @attribute text
       * @type String
       * @default ''
       */
      text: {
        observer: '_textChanged',
        type: String,
        value: ''
      },
      /**
       * Tracks the attachment status of the textfit-div element.
       *
       * @attribute isAttached
       * @type Boolean
       * @default false
       */
      isAttached: {
        type: Boolean,
        value: false
      },
      /**
       * When set to true the content will be centered horizontally.
       *
       * @attribute horizontalCenter
       * @type Boolean
       * @default false
       */
      horizontalCenter: {
        type: Boolean,
        value: false
      },
      /**
       * When set to true the content will be centered vertically.
       *
       * @attribute verticalCenter
       * @type Boolean
       * @default false
       */
      verticalCenter: {
        type: Boolean,
        value: false
      },
      /**
       * When set to true, textfit's multiline detection will be explicitly turned on.
       *
       * @attribute multiLine
       * @type Boolean
       * @default false
       */
      multiLine: {
        type: Boolean,
        value: false
      },
      /**
       * If your text has multiple lines, textFit() will automatically detect that and disable white-space: no-wrap! No changes are necessary.
       *
       * @attribute detectMultiLine
       * @type Boolean
       * @default true
       */
      detectMultiLine: {
        type: Boolean,
        value: true
      },
      /**
       * Minimum font-size for textfit. If set the calculated font-size will not be set below the defined value.
       *
       * @attribute minFontSize
       * @type Number
       * @default 6
       */
      minFontSize: {
        type: Number,
        value: 6
      },
      /**
       * Maximum font-size for textfit. If set the calculated font-size will not be set above the defined value.
       *
       * @attribute maxFontSize
       * @type Number
       * @default 200
       */
      maxFontSize: {
        type: Number,
        value: 200
      },
      /**
       * If true, textFit will re-process already-fit nodes. Set to 'false' for better performance
       *
       * @attribute reProcess
       * @type Boolean
       * @default true
       */
      reProcess: {
        type: Boolean,
        value: true
      },
      /**
       * If true, textFit will fit text to element width, regardless of text height
       *
       * @attribute widthOnly
       * @type Boolean
       * @default false
       */
      widthOnly: {
        type: Boolean,
        value: false
      },
      /**
       * If set to true, textfit-div will not automatically recalculate the font-size when a resize event is fired or the text content is changed.
       * doFitMe() must be called manually to trigger a recalculation.
       *
       * @attribute manualFire
       * @type Boolean
       * @default false
       */
      manualFire: {
        type: Boolean,
        value: false
      },
      /**
       * If true, textFit will use flexbox for vertical alignment
       *
       * @attribute manualFire
       * @type Boolean
       * @default false
       */
      alignVertWithFlexbox: {
        type: Boolean,
        value: false
      }
    },
    listeners: {
      'iron-resize': '_onIronResize'
    },
    /**
     * Triggered when the textfit-div element is attached.
     * Initial textfit calculation is triggered.
     */
    attached: function() {
      this.isAttached = true;

      if (this.manualFire)
        return;

      // Below we run async because there is a known bug with polymer attached callback and clientWidth parameter used in textFit plugin
      this.async(this.doFitMe);
    },
    detached: function() {
      this.isAttached = false;
    },
    /**
     * Observer method that is triggered when text content changed.
     */
    _textChanged: function(newText, oldText) {
      if (newText !== oldText && !this.manualFire) {
        this.doFitMe();
      }
    },
    /**
     * Triggered on iron-resize event.
     */
    _onIronResize: function() {
      if (this.manualFire)
        return;

      this.doFitMe();
    },
    /**
     * Calls textfit to trigger font-size recalculation.
     */
    doFitMe: function() {
      if (!this.isAttached)
        return;
      if (this.$.fitMe.innerHTML.length < 1)
        return;
        try {
        textFit(this.$.fitMe, {
          alignHoriz: this.horizontalCenter,
          alignVert: this.verticalCenter,
          multiLine: this.multiLine,
          detectMultiLine: this.detectMultiLine,
          minFontSize: this.minFontSize,
          maxFontSize: this.maxFontSize,
          reProcess: this.reProcess,
          widthOnly: this.widthOnly,
          alignVertWithFlexbox: this.alignVertWithFlexbox
        });
      } catch (e) {
        //console.warn(e);
      }
    }
  });
    </script>
</dom-module>

﻿<dom-module id="card-style" assetpath="../../streaming-list/">
    <template>
        <style>
            :host {
                display: block;
                box-sizing: border-box;
                position: relative;
            }

            #card {
                display: block;
                visibility: hidden;
                cursor: pointer;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

                #card.loaded {
                    visibility: visible;
                }

            :host::shadow #card:hover {
                @apply(--shadow-elevation-4dp);
            }

            #card .card-image iron-image {
                width: 100%;
                --iron-image-width: 100%;
                pointer-events: none;
            }

            #card .card-header {
                position: absolute;
                top: 0;
                bottom: 0;
                width: calc(100% - 32px);
                height: calc(57% - 32px);
                padding: 16px;
                color: var(--twitchtv-card-header-color, #fff);
                text-shadow: 2px 2px 8px #000;

                @apply(--twitchtv-card-header);
            }

            #card .card-content {
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }

            #card paper-icon-button {
                width: 64px;
                height: 64px;
            }

                #card paper-icon-button::shadow img {
                    border-radius: 50%;
                }

            #card .details {
                padding: 8px;
                white-space: nowrap;
                overflow: hidden;
                @apply(--layout-vertical);
                @apply(--layout-flex);
            }

                #card .details .heading {
                    @apply(--layout-horizontal);
                }

                    #card .details .heading textfit-div {
                        @apply(--paper-font-headline);
                        @apply(--layout-flex);
                    }

                    #card .details .heading .flag-icon {
                        border-bottom: solid 1px;
                        border-color: #DDD;
                        margin: auto 0;
                        background-color: #DDD;
                    }

                #card .details .game {
                    @apply(--layout-horizontal);
                    @apply(--layout-center);
                }

                    #card .details .game:hover {
                        color: var(--paper-grey-800);
                    }

                    #card .details .game #game,
                    #card .details .game #viewers,
                    {
                        margin-left: 4px;
                    }

                #card .details .game,
                #card .details .viewers {
                    text-decoration: none;
                    color: var(--paper-grey-600);
                }

            #card::shadow .details .game #game,
            #card::shadow .details .heading textfit-div,
            #card::shadow .details .viewers #viewers {
                overflow: hidden;
                text-overflow: ellipsis;
                -o-text-overflow: ellipsis;
                -ms-text-overflow: ellipsis;
            }
        </style>
    </template>
</dom-module>

﻿<script>var languages = [
  {
    "code": "ab",
    "name": "Abkhaz"
  },
  {
    "code": "aa",
    "name": "Afar"
  },
  {
    "code": "af",
    "name": "Afrikaans"
  },
  {
    "code": "ak",
    "name": "Akan"
  },
  {
    "code": "sq",
    "name": "Albanian"
  },
  {
    "code": "am",
    "name": "Amharic"
  },
  {
    "code": "ar",
    "name": "Arabic"
  },
  {
    "code": "an",
    "name": "Aragonese"
  },
  {
    "code": "hy",
    "name": "Armenian"
  },
  {
    "code": "as",
    "name": "Assamese"
  },
  {
    "code": "av",
    "name": "Avaric"
  },
  {
    "code": "ae",
    "name": "Avestan"
  },
  {
    "code": "ay",
    "name": "Aymara"
  },
  {
    "code": "az",
    "name": "Azerbaijani"
  },
  {
    "code": "bm",
    "name": "Bambara"
  },
  {
    "code": "ba",
    "name": "Bashkir"
  },
  {
    "code": "eu",
    "name": "Basque"
  },
  {
    "code": "be",
    "name": "Belarusian"
  },
  {
    "code": "bn",
    "name": "Bengali; Bangla"
  },
  {
    "code": "bh",
    "name": "Bihari"
  },
  {
    "code": "bi",
    "name": "Bislama"
  },
  {
    "code": "bs",
    "name": "Bosnian"
  },
  {
    "code": "br",
    "name": "Breton"
  },
  {
    "code": "bg",
    "name": "Bulgarian"
  },
  {
    "code": "my",
    "name": "Burmese"
  },
  {
    "code": "ca",
    "name": "Catalan; Valencian"
  },
  {
    "code": "ch",
    "name": "Chamorro"
  },
  {
    "code": "ce",
    "name": "Chechen"
  },
  {
    "code": "ny",
    "name": "Chichewa; Chewa; Nyanja"
  },
  {
    "code": "zh",
    "name": "Chinese",
    "flag": "cn"
  },
  {
    "code": "cv",
    "name": "Chuvash"
  },
  {
    "code": "kw",
    "name": "Cornish"
  },
  {
    "code": "co",
    "name": "Corsican"
  },
  {
    "code": "cr",
    "name": "Cree"
  },
  {
    "code": "hr",
    "name": "Croatian"
  },
  {
    "code": "cs",
    "name": "Czech"
  },
  {
    "code": "da",
    "name": "Danish"
  },
  {
    "code": "dv",
    "name": "Divehi; Dhivehi; Maldivian;"
  },
  {
    "code": "nl",
    "name": "Dutch"
  },
  {
    "code": "dz",
    "name": "Dzongkha"
  },
  {
    "code": "en",
    "name": "English",
    "flag": "us"
  },
  {
    "code": "eo",
    "name": "Esperanto"
  },
  {
    "code": "et",
    "name": "Estonian"
  },
  {
    "code": "ee",
    "name": "Ewe"
  },
  {
    "code": "fo",
    "name": "Faroese"
  },
  {
    "code": "fj",
    "name": "Fijian"
  },
  {
    "code": "fi",
    "name": "Finnish",
    "flag": "fl"
  },
  {
    "code": "fr",
    "name": "French",
    "flag": "fr"
  },
  {
    "code": "ff",
    "name": "Fula; Fulah; Pulaar; Pular"
  },
  {
    "code": "gl",
    "name": "Galician"
  },
  {
    "code": "ka",
    "name": "Georgian"
  },
  {
    "code": "de",
    "name": "German",
    "flag": "ge"
  },
  {
    "code": "el",
    "name": "Greek, Modern"
  },
  {
    "code": "gn",
    "name": "GuaranÃ­"
  },
  {
    "code": "gu",
    "name": "Gujarati"
  },
  {
    "code": "ht",
    "name": "Haitian; Haitian Creole"
  },
  {
    "code": "ha",
    "name": "Hausa"
  },
  {
    "code": "he",
    "name": "Hebrew (modern)"
  },
  {
    "code": "hz",
    "name": "Herero"
  },
  {
    "code": "hi",
    "name": "Hindi"
  },
  {
    "code": "ho",
    "name": "Hiri Motu"
  },
  {
    "code": "hu",
    "name": "Hungarian"
  },
  {
    "code": "ia",
    "name": "Interlingua"
  },
  {
    "code": "id",
    "name": "Indonesian"
  },
  {
    "code": "ie",
    "name": "Interlingue"
  },
  {
    "code": "ga",
    "name": "Irish"
  },
  {
    "code": "ig",
    "name": "Igbo"
  },
  {
    "code": "ik",
    "name": "Inupiaq"
  },
  {
    "code": "io",
    "name": "Ido"
  },
  {
    "code": "is",
    "name": "Icelandic"
  },
  {
    "code": "it",
    "name": "Italian",
    "flag": "it"
  },
  {
    "code": "iu",
    "name": "Inuktitut"
  },
  {
    "code": "ja",
    "name": "Japanese",
    "flag": "jp"
  },
  {
    "code": "jv",
    "name": "Javanese"
  },
  {
    "code": "kl",
    "name": "Kalaallisut, Greenlandic"
  },
  {
    "code": "kn",
    "name": "Kannada"
  },
  {
    "code": "kr",
    "name": "Kanuri"
  },
  {
    "code": "ks",
    "name": "Kashmiri"
  },
  {
    "code": "kk",
    "name": "Kazakh"
  },
  {
    "code": "km",
    "name": "Khmer"
  },
  {
    "code": "ki",
    "name": "Kikuyu, Gikuyu"
  },
  {
    "code": "rw",
    "name": "Kinyarwanda"
  },
  {
    "code": "ky",
    "name": "Kyrgyz"
  },
  {
    "code": "kv",
    "name": "Komi"
  },
  {
    "code": "kg",
    "name": "Kongo"
  },
  {
    "code": "ko",
    "name": "Korean",
    "flag": "kr"
  },
  {
    "code": "ku",
    "name": "Kurdish"
  },
  {
    "code": "kj",
    "name": "Kwanyama, Kuanyama"
  },
  {
    "code": "la",
    "name": "Latin"
  },
  {
    "code": "lb",
    "name": "Luxembourgish, Letzeburgesch"
  },
  {
    "code": "lg",
    "name": "Ganda"
  },
  {
    "code": "li",
    "name": "Limburgish, Limburgan, Limburger"
  },
  {
    "code": "ln",
    "name": "Lingala"
  },
  {
    "code": "lo",
    "name": "Lao"
  },
  {
    "code": "lt",
    "name": "Lithuanian"
  },
  {
    "code": "lu",
    "name": "Luba-Katanga"
  },
  {
    "code": "lv",
    "name": "Latvian"
  },
  {
    "code": "gv",
    "name": "Manx"
  },
  {
    "code": "mk",
    "name": "Macedonian"
  },
  {
    "code": "mg",
    "name": "Malagasy"
  },
  {
    "code": "ms",
    "name": "Malay"
  },
  {
    "code": "ml",
    "name": "Malayalam"
  },
  {
    "code": "mt",
    "name": "Maltese"
  },
  {
    "code": "mi",
    "name": "MÄori"
  },
  {
    "code": "mr",
    "name": "Marathi (MarÄá¹­hÄ«)"
  },
  {
    "code": "mh",
    "name": "Marshallese"
  },
  {
    "code": "mn",
    "name": "Mongolian"
  },
  {
    "code": "na",
    "name": "Nauru"
  },
  {
    "code": "nv",
    "name": "Navajo, Navaho"
  },
  {
    "code": "nb",
    "name": "Norwegian BokmÃ¥l"
  },
  {
    "code": "nd",
    "name": "North Ndebele"
  },
  {
    "code": "ne",
    "name": "Nepali"
  },
  {
    "code": "ng",
    "name": "Ndonga"
  },
  {
    "code": "nn",
    "name": "Norwegian Nynorsk"
  },
  {
    "code": "no",
    "name": "Norwegian"
  },
  {
    "code": "ii",
    "name": "Nuosu"
  },
  {
    "code": "nr",
    "name": "South Ndebele"
  },
  {
    "code": "oc",
    "name": "Occitan"
  },
  {
    "code": "oj",
    "name": "Ojibwe, Ojibwa"
  },
  {
    "code": "cu",
    "name": "Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic"
  },
  {
    "code": "om",
    "name": "Oromo"
  },
  {
    "code": "or",
    "name": "Oriya"
  },
  {
    "code": "os",
    "name": "Ossetian, Ossetic"
  },
  {
    "code": "pa",
    "name": "Panjabi, Punjabi"
  },
  {
    "code": "pi",
    "name": "PÄli"
  },
  {
    "code": "fa",
    "name": "Persian (Farsi)"
  },
  {
    "code": "pl",
    "name": "Polish",
    "flag": "pl"
  },
  {
    "code": "ps",
    "name": "Pashto, Pushto"
  },
  {
    "code": "pt",
    "name": "Portuguese",
    "flag": "br"
  },
  {
    "code": "qu",
    "name": "Quechua"
  },
  {
    "code": "rm",
    "name": "Romansh"
  },
  {
    "code": "rn",
    "name": "Kirundi"
  },
  {
    "code": "ro",
    "name": "Romanian, [])"
  },
  {
    "code": "ru",
    "name": "Russian",
    "flag": "ru"
  },
  {
    "code": "sa",
    "name": "Sanskrit (Saá¹ská¹›ta)"
  },
  {
    "code": "sc",
    "name": "Sardinian"
  },
  {
    "code": "sd",
    "name": "Sindhi"
  },
  {
    "code": "se",
    "name": "Northern Sami"
  },
  {
    "code": "sm",
    "name": "Samoan"
  },
  {
    "code": "sg",
    "name": "Sango"
  },
  {
    "code": "sr",
    "name": "Serbian"
  },
  {
    "code": "gd",
    "name": "Scottish Gaelic; Gaelic"
  },
  {
    "code": "sn",
    "name": "Shona"
  },
  {
    "code": "si",
    "name": "Sinhala, Sinhalese"
  },
  {
    "code": "sk",
    "name": "Slovak"
  },
  {
    "code": "sl",
    "name": "Slovene"
  },
  {
    "code": "so",
    "name": "Somali"
  },
  {
    "code": "st",
    "name": "Southern Sotho"
  },
  {
    "code": "az",
    "name": "South Azerbaijani"
  },
  {
    "code": "es",
    "name": "Spanish; Castilian",
    "flag": "es"
  },
  {
    "code": "su",
    "name": "Sundanese"
  },
  {
    "code": "sw",
    "name": "Swahili"
  },
  {
    "code": "ss",
    "name": "Swati"
  },
  {
    "code": "sv",
    "name": "Swedish",
    "flag": "se"
  },
  {
    "code": "ta",
    "name": "Tamil"
  },
  {
    "code": "te",
    "name": "Telugu"
  },
  {
    "code": "tg",
    "name": "Tajik"
  },
  {
    "code": "th",
    "name": "Thai"
  },
  {
    "code": "ti",
    "name": "Tigrinya"
  },
  {
    "code": "bo",
    "name": "Tibetan Standard, Tibetan, Central"
  },
  {
    "code": "tk",
    "name": "Turkmen"
  },
  {
    "code": "tl",
    "name": "Tagalog"
  },
  {
    "code": "tn",
    "name": "Tswana"
  },
  {
    "code": "to",
    "name": "Tonga (Tonga Islands)"
  },
  {
    "code": "tr",
    "name": "Turkish",
    "flag": "tr"
  },
  {
    "code": "ts",
    "name": "Tsonga"
  },
  {
    "code": "tt",
    "name": "Tatar"
  },
  {
    "code": "tw",
    "name": "Twi"
  },
  {
    "code": "ty",
    "name": "Tahitian"
  },
  {
    "code": "ug",
    "name": "Uyghur, Uighur"
  },
  {
    "code": "uk",
    "name": "Ukrainian",
    "flag": "ua"
  },
  {
    "code": "ur",
    "name": "Urdu"
  },
  {
    "code": "uz",
    "name": "Uzbek"
  },
  {
    "code": "ve",
    "name": "Venda"
  },
  {
    "code": "vi",
    "name": "Vietnamese",
    "flag": "vn"
  },
  {
    "code": "vo",
    "name": "VolapÃ¼k"
  },
  {
    "code": "wa",
    "name": "Walloon"
  },
  {
    "code": "cy",
    "name": "Welsh"
  },
  {
    "code": "wo",
    "name": "Wolof"
  },
  {
    "code": "fy",
    "name": "Western Frisian"
  },
  {
    "code": "xh",
    "name": "Xhosa"
  },
  {
    "code": "yi",
    "name": "Yiddish"
  },
  {
    "code": "yo",
    "name": "Yoruba"
  },
  {
    "code": "za",
    "name": "Zhuang, Chuang",
    "flag": "cn"
  },
  {
    "code": "zu",
    "name": "Zulu"
  }
];
</script>
<script>
document.StreamingList = document.StreamingList || {};
/**
 * @polymerBehavior FlagBehavior
 */
document.StreamingList.FlagBehavior = {
  formatLanguage: function (language, isFlag) {
    if(!language) return;

    language = language.replace(/\-.*$/, '');
    var filtered = languages.filter(function (data) {
      return data.code === language;
    });

    if (filtered.length < 1 || !filtered[0].flag) {
      console.log('[streaming-list] Flag not found for language code', language, 'please report to upstream opening an issue');
      return null;
    }

    if (isFlag) {
      return 'flag-icon flag-icon-' + filtered[0].flag;
    }

    return filtered[0].name;
  },

  formatFlag: function (language) {
    return this.formatLanguage(language, true);
  }
}
</script>

<style>﻿.flag-icon,.flag-icon-background{background-repeat:no-repeat;background-size:contain;background-position:50%}.flag-icon{position:relative;display:inline-block;width:1.33333333em;line-height:1em}.flag-icon:before{content:"\00a0"}.flag-icon.flag-icon-squared{width:1em}.flag-icon-ad{background-image:url("../../flag-icon-css/flags/4x3/ad.svg")}.flag-icon-ad.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ad.svg")}.flag-icon-ae{background-image:url("../../flag-icon-css/flags/4x3/ae.svg")}.flag-icon-ae.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ae.svg")}.flag-icon-af{background-image:url("../../flag-icon-css/flags/4x3/af.svg")}.flag-icon-af.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/af.svg")}.flag-icon-ag{background-image:url("../../flag-icon-css/flags/4x3/ag.svg")}.flag-icon-ag.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ag.svg")}.flag-icon-ai{background-image:url("../../flag-icon-css/flags/4x3/ai.svg")}.flag-icon-ai.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ai.svg")}.flag-icon-al{background-image:url("../../flag-icon-css/flags/4x3/al.svg")}.flag-icon-al.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/al.svg")}.flag-icon-am{background-image:url("../../flag-icon-css/flags/4x3/am.svg")}.flag-icon-am.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/am.svg")}.flag-icon-ao{background-image:url("../../flag-icon-css/flags/4x3/ao.svg")}.flag-icon-ao.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ao.svg")}.flag-icon-aq{background-image:url("../../flag-icon-css/flags/4x3/aq.svg")}.flag-icon-aq.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/aq.svg")}.flag-icon-ar{background-image:url("../../flag-icon-css/flags/4x3/ar.svg")}.flag-icon-ar.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ar.svg")}.flag-icon-as{background-image:url("../../flag-icon-css/flags/4x3/as.svg")}.flag-icon-as.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/as.svg")}.flag-icon-at{background-image:url("../../flag-icon-css/flags/4x3/at.svg")}.flag-icon-at.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/at.svg")}.flag-icon-au{background-image:url("../../flag-icon-css/flags/4x3/au.svg")}.flag-icon-au.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/au.svg")}.flag-icon-aw{background-image:url("../../flag-icon-css/flags/4x3/aw.svg")}.flag-icon-aw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/aw.svg")}.flag-icon-ax{background-image:url("../../flag-icon-css/flags/4x3/ax.svg")}.flag-icon-ax.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ax.svg")}.flag-icon-az{background-image:url("../../flag-icon-css/flags/4x3/az.svg")}.flag-icon-az.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/az.svg")}.flag-icon-ba{background-image:url("../../flag-icon-css/flags/4x3/ba.svg")}.flag-icon-ba.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ba.svg")}.flag-icon-bb{background-image:url("../../flag-icon-css/flags/4x3/bb.svg")}.flag-icon-bb.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bb.svg")}.flag-icon-bd{background-image:url("../../flag-icon-css/flags/4x3/bd.svg")}.flag-icon-bd.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bd.svg")}.flag-icon-be{background-image:url("../../flag-icon-css/flags/4x3/be.svg")}.flag-icon-be.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/be.svg")}.flag-icon-bf{background-image:url("../../flag-icon-css/flags/4x3/bf.svg")}.flag-icon-bf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bf.svg")}.flag-icon-bg{background-image:url("../../flag-icon-css/flags/4x3/bg.svg")}.flag-icon-bg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bg.svg")}.flag-icon-bh{background-image:url("../../flag-icon-css/flags/4x3/bh.svg")}.flag-icon-bh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bh.svg")}.flag-icon-bi{background-image:url("../../flag-icon-css/flags/4x3/bi.svg")}.flag-icon-bi.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bi.svg")}.flag-icon-bj{background-image:url("../../flag-icon-css/flags/4x3/bj.svg")}.flag-icon-bj.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bj.svg")}.flag-icon-bl{background-image:url("../../flag-icon-css/flags/4x3/bl.svg")}.flag-icon-bl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bl.svg")}.flag-icon-bm{background-image:url("../../flag-icon-css/flags/4x3/bm.svg")}.flag-icon-bm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bm.svg")}.flag-icon-bn{background-image:url("../../flag-icon-css/flags/4x3/bn.svg")}.flag-icon-bn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bn.svg")}.flag-icon-bo{background-image:url("../../flag-icon-css/flags/4x3/bo.svg")}.flag-icon-bo.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bo.svg")}.flag-icon-bq{background-image:url("../../flag-icon-css/flags/4x3/bq.svg")}.flag-icon-bq.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bq.svg")}.flag-icon-br{background-image:url("../../flag-icon-css/flags/4x3/br.svg")}.flag-icon-br.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/br.svg")}.flag-icon-bs{background-image:url("../../flag-icon-css/flags/4x3/bs.svg")}.flag-icon-bs.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bs.svg")}.flag-icon-bt{background-image:url("../../flag-icon-css/flags/4x3/bt.svg")}.flag-icon-bt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bt.svg")}.flag-icon-bv{background-image:url("../../flag-icon-css/flags/4x3/bv.svg")}.flag-icon-bv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bv.svg")}.flag-icon-bw{background-image:url("../../flag-icon-css/flags/4x3/bw.svg")}.flag-icon-bw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bw.svg")}.flag-icon-by{background-image:url("../../flag-icon-css/flags/4x3/by.svg")}.flag-icon-by.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/by.svg")}.flag-icon-bz{background-image:url("../../flag-icon-css/flags/4x3/bz.svg")}.flag-icon-bz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/bz.svg")}.flag-icon-ca{background-image:url("../../flag-icon-css/flags/4x3/ca.svg")}.flag-icon-ca.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ca.svg")}.flag-icon-cc{background-image:url("../../flag-icon-css/flags/4x3/cc.svg")}.flag-icon-cc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cc.svg")}.flag-icon-cd{background-image:url("../../flag-icon-css/flags/4x3/cd.svg")}.flag-icon-cd.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cd.svg")}.flag-icon-cf{background-image:url("../../flag-icon-css/flags/4x3/cf.svg")}.flag-icon-cf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cf.svg")}.flag-icon-cg{background-image:url("../../flag-icon-css/flags/4x3/cg.svg")}.flag-icon-cg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cg.svg")}.flag-icon-ch{background-image:url("../../flag-icon-css/flags/4x3/ch.svg")}.flag-icon-ch.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ch.svg")}.flag-icon-ci{background-image:url("../../flag-icon-css/flags/4x3/ci.svg")}.flag-icon-ci.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ci.svg")}.flag-icon-ck{background-image:url("../../flag-icon-css/flags/4x3/ck.svg")}.flag-icon-ck.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ck.svg")}.flag-icon-cl{background-image:url("../../flag-icon-css/flags/4x3/cl.svg")}.flag-icon-cl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cl.svg")}.flag-icon-cm{background-image:url("../../flag-icon-css/flags/4x3/cm.svg")}.flag-icon-cm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cm.svg")}.flag-icon-cn{background-image:url("../../flag-icon-css/flags/4x3/cn.svg")}.flag-icon-cn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cn.svg")}.flag-icon-co{background-image:url("../../flag-icon-css/flags/4x3/co.svg")}.flag-icon-co.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/co.svg")}.flag-icon-cr{background-image:url("../../flag-icon-css/flags/4x3/cr.svg")}.flag-icon-cr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cr.svg")}.flag-icon-cu{background-image:url("../../flag-icon-css/flags/4x3/cu.svg")}.flag-icon-cu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cu.svg")}.flag-icon-cv{background-image:url("../../flag-icon-css/flags/4x3/cv.svg")}.flag-icon-cv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cv.svg")}.flag-icon-cw{background-image:url("../../flag-icon-css/flags/4x3/cw.svg")}.flag-icon-cw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cw.svg")}.flag-icon-cx{background-image:url("../../flag-icon-css/flags/4x3/cx.svg")}.flag-icon-cx.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cx.svg")}.flag-icon-cy{background-image:url("../../flag-icon-css/flags/4x3/cy.svg")}.flag-icon-cy.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cy.svg")}.flag-icon-cz{background-image:url("../../flag-icon-css/flags/4x3/cz.svg")}.flag-icon-cz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/cz.svg")}.flag-icon-de{background-image:url("../../flag-icon-css/flags/4x3/de.svg")}.flag-icon-de.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/de.svg")}.flag-icon-dj{background-image:url("../../flag-icon-css/flags/4x3/dj.svg")}.flag-icon-dj.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/dj.svg")}.flag-icon-dk{background-image:url("../../flag-icon-css/flags/4x3/dk.svg")}.flag-icon-dk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/dk.svg")}.flag-icon-dm{background-image:url("../../flag-icon-css/flags/4x3/dm.svg")}.flag-icon-dm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/dm.svg")}.flag-icon-do{background-image:url("../../flag-icon-css/flags/4x3/do.svg")}.flag-icon-do.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/do.svg")}.flag-icon-dz{background-image:url("../../flag-icon-css/flags/4x3/dz.svg")}.flag-icon-dz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/dz.svg")}.flag-icon-ec{background-image:url("../../flag-icon-css/flags/4x3/ec.svg")}.flag-icon-ec.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ec.svg")}.flag-icon-ee{background-image:url("../../flag-icon-css/flags/4x3/ee.svg")}.flag-icon-ee.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ee.svg")}.flag-icon-eg{background-image:url("../../flag-icon-css/flags/4x3/eg.svg")}.flag-icon-eg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/eg.svg")}.flag-icon-eh{background-image:url("../../flag-icon-css/flags/4x3/eh.svg")}.flag-icon-eh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/eh.svg")}.flag-icon-er{background-image:url("../../flag-icon-css/flags/4x3/er.svg")}.flag-icon-er.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/er.svg")}.flag-icon-es{background-image:url("../../flag-icon-css/flags/4x3/es.svg")}.flag-icon-es.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/es.svg")}.flag-icon-et{background-image:url("../../flag-icon-css/flags/4x3/et.svg")}.flag-icon-et.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/et.svg")}.flag-icon-fi{background-image:url("../../flag-icon-css/flags/4x3/fi.svg")}.flag-icon-fi.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fi.svg")}.flag-icon-fj{background-image:url("../../flag-icon-css/flags/4x3/fj.svg")}.flag-icon-fj.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fj.svg")}.flag-icon-fk{background-image:url("../../flag-icon-css/flags/4x3/fk.svg")}.flag-icon-fk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fk.svg")}.flag-icon-fm{background-image:url("../../flag-icon-css/flags/4x3/fm.svg")}.flag-icon-fm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fm.svg")}.flag-icon-fo{background-image:url("../../flag-icon-css/flags/4x3/fo.svg")}.flag-icon-fo.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fo.svg")}.flag-icon-fr{background-image:url("../../flag-icon-css/flags/4x3/fr.svg")}.flag-icon-fr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/fr.svg")}.flag-icon-ga{background-image:url("../../flag-icon-css/flags/4x3/ga.svg")}.flag-icon-ga.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ga.svg")}.flag-icon-gb{background-image:url("../../flag-icon-css/flags/4x3/gb.svg")}.flag-icon-gb.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gb.svg")}.flag-icon-gd{background-image:url("../../flag-icon-css/flags/4x3/gd.svg")}.flag-icon-gd.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gd.svg")}.flag-icon-ge{background-image:url("../../flag-icon-css/flags/4x3/ge.svg")}.flag-icon-ge.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ge.svg")}.flag-icon-gf{background-image:url("../../flag-icon-css/flags/4x3/gf.svg")}.flag-icon-gf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gf.svg")}.flag-icon-gg{background-image:url("../../flag-icon-css/flags/4x3/gg.svg")}.flag-icon-gg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gg.svg")}.flag-icon-gh{background-image:url("../../flag-icon-css/flags/4x3/gh.svg")}.flag-icon-gh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gh.svg")}.flag-icon-gi{background-image:url("../../flag-icon-css/flags/4x3/gi.svg")}.flag-icon-gi.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gi.svg")}.flag-icon-gl{background-image:url("../../flag-icon-css/flags/4x3/gl.svg")}.flag-icon-gl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gl.svg")}.flag-icon-gm{background-image:url("../../flag-icon-css/flags/4x3/gm.svg")}.flag-icon-gm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gm.svg")}.flag-icon-gn{background-image:url("../../flag-icon-css/flags/4x3/gn.svg")}.flag-icon-gn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gn.svg")}.flag-icon-gp{background-image:url("../../flag-icon-css/flags/4x3/gp.svg")}.flag-icon-gp.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gp.svg")}.flag-icon-gq{background-image:url("../../flag-icon-css/flags/4x3/gq.svg")}.flag-icon-gq.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gq.svg")}.flag-icon-gr{background-image:url("../../flag-icon-css/flags/4x3/gr.svg")}.flag-icon-gr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gr.svg")}.flag-icon-gs{background-image:url("../../flag-icon-css/flags/4x3/gs.svg")}.flag-icon-gs.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gs.svg")}.flag-icon-gt{background-image:url("../../flag-icon-css/flags/4x3/gt.svg")}.flag-icon-gt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gt.svg")}.flag-icon-gu{background-image:url("../../flag-icon-css/flags/4x3/gu.svg")}.flag-icon-gu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gu.svg")}.flag-icon-gw{background-image:url("../../flag-icon-css/flags/4x3/gw.svg")}.flag-icon-gw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gw.svg")}.flag-icon-gy{background-image:url("../../flag-icon-css/flags/4x3/gy.svg")}.flag-icon-gy.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gy.svg")}.flag-icon-hk{background-image:url("../../flag-icon-css/flags/4x3/hk.svg")}.flag-icon-hk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/hk.svg")}.flag-icon-hm{background-image:url("../../flag-icon-css/flags/4x3/hm.svg")}.flag-icon-hm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/hm.svg")}.flag-icon-hn{background-image:url("../../flag-icon-css/flags/4x3/hn.svg")}.flag-icon-hn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/hn.svg")}.flag-icon-hr{background-image:url("../../flag-icon-css/flags/4x3/hr.svg")}.flag-icon-hr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/hr.svg")}.flag-icon-ht{background-image:url("../../flag-icon-css/flags/4x3/ht.svg")}.flag-icon-ht.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ht.svg")}.flag-icon-hu{background-image:url("../../flag-icon-css/flags/4x3/hu.svg")}.flag-icon-hu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/hu.svg")}.flag-icon-id{background-image:url("../../flag-icon-css/flags/4x3/id.svg")}.flag-icon-id.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/id.svg")}.flag-icon-ie{background-image:url("../../flag-icon-css/flags/4x3/ie.svg")}.flag-icon-ie.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ie.svg")}.flag-icon-il{background-image:url("../../flag-icon-css/flags/4x3/il.svg")}.flag-icon-il.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/il.svg")}.flag-icon-im{background-image:url("../../flag-icon-css/flags/4x3/im.svg")}.flag-icon-im.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/im.svg")}.flag-icon-in{background-image:url("../../flag-icon-css/flags/4x3/in.svg")}.flag-icon-in.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/in.svg")}.flag-icon-io{background-image:url("../../flag-icon-css/flags/4x3/io.svg")}.flag-icon-io.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/io.svg")}.flag-icon-iq{background-image:url("../../flag-icon-css/flags/4x3/iq.svg")}.flag-icon-iq.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/iq.svg")}.flag-icon-ir{background-image:url("../../flag-icon-css/flags/4x3/ir.svg")}.flag-icon-ir.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ir.svg")}.flag-icon-is{background-image:url("../../flag-icon-css/flags/4x3/is.svg")}.flag-icon-is.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/is.svg")}.flag-icon-it{background-image:url("../../flag-icon-css/flags/4x3/it.svg")}.flag-icon-it.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/it.svg")}.flag-icon-je{background-image:url("../../flag-icon-css/flags/4x3/je.svg")}.flag-icon-je.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/je.svg")}.flag-icon-jm{background-image:url("../../flag-icon-css/flags/4x3/jm.svg")}.flag-icon-jm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/jm.svg")}.flag-icon-jo{background-image:url("../../flag-icon-css/flags/4x3/jo.svg")}.flag-icon-jo.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/jo.svg")}.flag-icon-jp{background-image:url("../../flag-icon-css/flags/4x3/jp.svg")}.flag-icon-jp.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/jp.svg")}.flag-icon-ke{background-image:url("../../flag-icon-css/flags/4x3/ke.svg")}.flag-icon-ke.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ke.svg")}.flag-icon-kg{background-image:url("../../flag-icon-css/flags/4x3/kg.svg")}.flag-icon-kg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kg.svg")}.flag-icon-kh{background-image:url("../../flag-icon-css/flags/4x3/kh.svg")}.flag-icon-kh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kh.svg")}.flag-icon-ki{background-image:url("../../flag-icon-css/flags/4x3/ki.svg")}.flag-icon-ki.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ki.svg")}.flag-icon-km{background-image:url("../../flag-icon-css/flags/4x3/km.svg")}.flag-icon-km.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/km.svg")}.flag-icon-kn{background-image:url("../../flag-icon-css/flags/4x3/kn.svg")}.flag-icon-kn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kn.svg")}.flag-icon-kp{background-image:url("../../flag-icon-css/flags/4x3/kp.svg")}.flag-icon-kp.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kp.svg")}.flag-icon-kr{background-image:url("../../flag-icon-css/flags/4x3/kr.svg")}.flag-icon-kr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kr.svg")}.flag-icon-kw{background-image:url("../../flag-icon-css/flags/4x3/kw.svg")}.flag-icon-kw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kw.svg")}.flag-icon-ky{background-image:url("../../flag-icon-css/flags/4x3/ky.svg")}.flag-icon-ky.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ky.svg")}.flag-icon-kz{background-image:url("../../flag-icon-css/flags/4x3/kz.svg")}.flag-icon-kz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/kz.svg")}.flag-icon-la{background-image:url("../../flag-icon-css/flags/4x3/la.svg")}.flag-icon-la.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/la.svg")}.flag-icon-lb{background-image:url("../../flag-icon-css/flags/4x3/lb.svg")}.flag-icon-lb.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lb.svg")}.flag-icon-lc{background-image:url("../../flag-icon-css/flags/4x3/lc.svg")}.flag-icon-lc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lc.svg")}.flag-icon-li{background-image:url("../../flag-icon-css/flags/4x3/li.svg")}.flag-icon-li.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/li.svg")}.flag-icon-lk{background-image:url("../../flag-icon-css/flags/4x3/lk.svg")}.flag-icon-lk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lk.svg")}.flag-icon-lr{background-image:url("../../flag-icon-css/flags/4x3/lr.svg")}.flag-icon-lr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lr.svg")}.flag-icon-ls{background-image:url("../../flag-icon-css/flags/4x3/ls.svg")}.flag-icon-ls.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ls.svg")}.flag-icon-lt{background-image:url("../../flag-icon-css/flags/4x3/lt.svg")}.flag-icon-lt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lt.svg")}.flag-icon-lu{background-image:url("../../flag-icon-css/flags/4x3/lu.svg")}.flag-icon-lu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lu.svg")}.flag-icon-lv{background-image:url("../../flag-icon-css/flags/4x3/lv.svg")}.flag-icon-lv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/lv.svg")}.flag-icon-ly{background-image:url("../../flag-icon-css/flags/4x3/ly.svg")}.flag-icon-ly.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ly.svg")}.flag-icon-ma{background-image:url("../../flag-icon-css/flags/4x3/ma.svg")}.flag-icon-ma.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ma.svg")}.flag-icon-mc{background-image:url("../../flag-icon-css/flags/4x3/mc.svg")}.flag-icon-mc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mc.svg")}.flag-icon-md{background-image:url("../../flag-icon-css/flags/4x3/md.svg")}.flag-icon-md.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/md.svg")}.flag-icon-me{background-image:url("../../flag-icon-css/flags/4x3/me.svg")}.flag-icon-me.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/me.svg")}.flag-icon-mf{background-image:url("../../flag-icon-css/flags/4x3/mf.svg")}.flag-icon-mf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mf.svg")}.flag-icon-mg{background-image:url("../../flag-icon-css/flags/4x3/mg.svg")}.flag-icon-mg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mg.svg")}.flag-icon-mh{background-image:url("../../flag-icon-css/flags/4x3/mh.svg")}.flag-icon-mh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mh.svg")}.flag-icon-mk{background-image:url("../../flag-icon-css/flags/4x3/mk.svg")}.flag-icon-mk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mk.svg")}.flag-icon-ml{background-image:url("../../flag-icon-css/flags/4x3/ml.svg")}.flag-icon-ml.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ml.svg")}.flag-icon-mm{background-image:url("../../flag-icon-css/flags/4x3/mm.svg")}.flag-icon-mm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mm.svg")}.flag-icon-mn{background-image:url("../../flag-icon-css/flags/4x3/mn.svg")}.flag-icon-mn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mn.svg")}.flag-icon-mo{background-image:url("../../flag-icon-css/flags/4x3/mo.svg")}.flag-icon-mo.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mo.svg")}.flag-icon-mp{background-image:url("../../flag-icon-css/flags/4x3/mp.svg")}.flag-icon-mp.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mp.svg")}.flag-icon-mq{background-image:url("../../flag-icon-css/flags/4x3/mq.svg")}.flag-icon-mq.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mq.svg")}.flag-icon-mr{background-image:url("../../flag-icon-css/flags/4x3/mr.svg")}.flag-icon-mr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mr.svg")}.flag-icon-ms{background-image:url("../../flag-icon-css/flags/4x3/ms.svg")}.flag-icon-ms.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ms.svg")}.flag-icon-mt{background-image:url("../../flag-icon-css/flags/4x3/mt.svg")}.flag-icon-mt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mt.svg")}.flag-icon-mu{background-image:url("../../flag-icon-css/flags/4x3/mu.svg")}.flag-icon-mu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mu.svg")}.flag-icon-mv{background-image:url("../../flag-icon-css/flags/4x3/mv.svg")}.flag-icon-mv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mv.svg")}.flag-icon-mw{background-image:url("../../flag-icon-css/flags/4x3/mw.svg")}.flag-icon-mw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mw.svg")}.flag-icon-mx{background-image:url("../../flag-icon-css/flags/4x3/mx.svg")}.flag-icon-mx.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mx.svg")}.flag-icon-my{background-image:url("../../flag-icon-css/flags/4x3/my.svg")}.flag-icon-my.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/my.svg")}.flag-icon-mz{background-image:url("../../flag-icon-css/flags/4x3/mz.svg")}.flag-icon-mz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/mz.svg")}.flag-icon-na{background-image:url("../../flag-icon-css/flags/4x3/na.svg")}.flag-icon-na.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/na.svg")}.flag-icon-nc{background-image:url("../../flag-icon-css/flags/4x3/nc.svg")}.flag-icon-nc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nc.svg")}.flag-icon-ne{background-image:url("../../flag-icon-css/flags/4x3/ne.svg")}.flag-icon-ne.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ne.svg")}.flag-icon-nf{background-image:url("../../flag-icon-css/flags/4x3/nf.svg")}.flag-icon-nf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nf.svg")}.flag-icon-ng{background-image:url("../../flag-icon-css/flags/4x3/ng.svg")}.flag-icon-ng.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ng.svg")}.flag-icon-ni{background-image:url("../../flag-icon-css/flags/4x3/ni.svg")}.flag-icon-ni.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ni.svg")}.flag-icon-nl{background-image:url("../../flag-icon-css/flags/4x3/nl.svg")}.flag-icon-nl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nl.svg")}.flag-icon-no{background-image:url("../../flag-icon-css/flags/4x3/no.svg")}.flag-icon-no.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/no.svg")}.flag-icon-np{background-image:url("../../flag-icon-css/flags/4x3/np.svg")}.flag-icon-np.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/np.svg")}.flag-icon-nr{background-image:url("../../flag-icon-css/flags/4x3/nr.svg")}.flag-icon-nr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nr.svg")}.flag-icon-nu{background-image:url("../../flag-icon-css/flags/4x3/nu.svg")}.flag-icon-nu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nu.svg")}.flag-icon-nz{background-image:url("../../flag-icon-css/flags/4x3/nz.svg")}.flag-icon-nz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/nz.svg")}.flag-icon-om{background-image:url("../../flag-icon-css/flags/4x3/om.svg")}.flag-icon-om.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/om.svg")}.flag-icon-pa{background-image:url("../../flag-icon-css/flags/4x3/pa.svg")}.flag-icon-pa.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pa.svg")}.flag-icon-pe{background-image:url("../../flag-icon-css/flags/4x3/pe.svg")}.flag-icon-pe.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pe.svg")}.flag-icon-pf{background-image:url("../../flag-icon-css/flags/4x3/pf.svg")}.flag-icon-pf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pf.svg")}.flag-icon-pg{background-image:url("../../flag-icon-css/flags/4x3/pg.svg")}.flag-icon-pg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pg.svg")}.flag-icon-ph{background-image:url("../../flag-icon-css/flags/4x3/ph.svg")}.flag-icon-ph.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ph.svg")}.flag-icon-pk{background-image:url("../../flag-icon-css/flags/4x3/pk.svg")}.flag-icon-pk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pk.svg")}.flag-icon-pl{background-image:url("../../flag-icon-css/flags/4x3/pl.svg")}.flag-icon-pl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pl.svg")}.flag-icon-pm{background-image:url("../../flag-icon-css/flags/4x3/pm.svg")}.flag-icon-pm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pm.svg")}.flag-icon-pn{background-image:url("../../flag-icon-css/flags/4x3/pn.svg")}.flag-icon-pn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pn.svg")}.flag-icon-pr{background-image:url("../../flag-icon-css/flags/4x3/pr.svg")}.flag-icon-pr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pr.svg")}.flag-icon-ps{background-image:url("../../flag-icon-css/flags/4x3/ps.svg")}.flag-icon-ps.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ps.svg")}.flag-icon-pt{background-image:url("../../flag-icon-css/flags/4x3/pt.svg")}.flag-icon-pt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pt.svg")}.flag-icon-pw{background-image:url("../../flag-icon-css/flags/4x3/pw.svg")}.flag-icon-pw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/pw.svg")}.flag-icon-py{background-image:url("../../flag-icon-css/flags/4x3/py.svg")}.flag-icon-py.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/py.svg")}.flag-icon-qa{background-image:url("../../flag-icon-css/flags/4x3/qa.svg")}.flag-icon-qa.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/qa.svg")}.flag-icon-re{background-image:url("../../flag-icon-css/flags/4x3/re.svg")}.flag-icon-re.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/re.svg")}.flag-icon-ro{background-image:url("../../flag-icon-css/flags/4x3/ro.svg")}.flag-icon-ro.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ro.svg")}.flag-icon-rs{background-image:url("../../flag-icon-css/flags/4x3/rs.svg")}.flag-icon-rs.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/rs.svg")}.flag-icon-ru{background-image:url("../../flag-icon-css/flags/4x3/ru.svg")}.flag-icon-ru.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ru.svg")}.flag-icon-rw{background-image:url("../../flag-icon-css/flags/4x3/rw.svg")}.flag-icon-rw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/rw.svg")}.flag-icon-sa{background-image:url("../../flag-icon-css/flags/4x3/sa.svg")}.flag-icon-sa.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sa.svg")}.flag-icon-sb{background-image:url("../../flag-icon-css/flags/4x3/sb.svg")}.flag-icon-sb.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sb.svg")}.flag-icon-sc{background-image:url("../../flag-icon-css/flags/4x3/sc.svg")}.flag-icon-sc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sc.svg")}.flag-icon-sd{background-image:url("../../flag-icon-css/flags/4x3/sd.svg")}.flag-icon-sd.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sd.svg")}.flag-icon-se{background-image:url("../../flag-icon-css/flags/4x3/se.svg")}.flag-icon-se.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/se.svg")}.flag-icon-sg{background-image:url("../../flag-icon-css/flags/4x3/sg.svg")}.flag-icon-sg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sg.svg")}.flag-icon-sh{background-image:url("../../flag-icon-css/flags/4x3/sh.svg")}.flag-icon-sh.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sh.svg")}.flag-icon-si{background-image:url("../../flag-icon-css/flags/4x3/si.svg")}.flag-icon-si.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/si.svg")}.flag-icon-sj{background-image:url("../../flag-icon-css/flags/4x3/sj.svg")}.flag-icon-sj.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sj.svg")}.flag-icon-sk{background-image:url("../../flag-icon-css/flags/4x3/sk.svg")}.flag-icon-sk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sk.svg")}.flag-icon-sl{background-image:url("../../flag-icon-css/flags/4x3/sl.svg")}.flag-icon-sl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sl.svg")}.flag-icon-sm{background-image:url("../../flag-icon-css/flags/4x3/sm.svg")}.flag-icon-sm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sm.svg")}.flag-icon-sn{background-image:url("../../flag-icon-css/flags/4x3/sn.svg")}.flag-icon-sn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sn.svg")}.flag-icon-so{background-image:url("../../flag-icon-css/flags/4x3/so.svg")}.flag-icon-so.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/so.svg")}.flag-icon-sr{background-image:url("../../flag-icon-css/flags/4x3/sr.svg")}.flag-icon-sr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sr.svg")}.flag-icon-ss{background-image:url("../../flag-icon-css/flags/4x3/ss.svg")}.flag-icon-ss.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ss.svg")}.flag-icon-st{background-image:url("../../flag-icon-css/flags/4x3/st.svg")}.flag-icon-st.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/st.svg")}.flag-icon-sv{background-image:url("../../flag-icon-css/flags/4x3/sv.svg")}.flag-icon-sv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sv.svg")}.flag-icon-sx{background-image:url("../../flag-icon-css/flags/4x3/sx.svg")}.flag-icon-sx.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sx.svg")}.flag-icon-sy{background-image:url("../../flag-icon-css/flags/4x3/sy.svg")}.flag-icon-sy.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sy.svg")}.flag-icon-sz{background-image:url("../../flag-icon-css/flags/4x3/sz.svg")}.flag-icon-sz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/sz.svg")}.flag-icon-tc{background-image:url("../../flag-icon-css/flags/4x3/tc.svg")}.flag-icon-tc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tc.svg")}.flag-icon-td{background-image:url("../../flag-icon-css/flags/4x3/td.svg")}.flag-icon-td.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/td.svg")}.flag-icon-tf{background-image:url("../../flag-icon-css/flags/4x3/tf.svg")}.flag-icon-tf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tf.svg")}.flag-icon-tg{background-image:url("../../flag-icon-css/flags/4x3/tg.svg")}.flag-icon-tg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tg.svg")}.flag-icon-th{background-image:url("../../flag-icon-css/flags/4x3/th.svg")}.flag-icon-th.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/th.svg")}.flag-icon-tj{background-image:url("../../flag-icon-css/flags/4x3/tj.svg")}.flag-icon-tj.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tj.svg")}.flag-icon-tk{background-image:url("../../flag-icon-css/flags/4x3/tk.svg")}.flag-icon-tk.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tk.svg")}.flag-icon-tl{background-image:url("../../flag-icon-css/flags/4x3/tl.svg")}.flag-icon-tl.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tl.svg")}.flag-icon-tm{background-image:url("../../flag-icon-css/flags/4x3/tm.svg")}.flag-icon-tm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tm.svg")}.flag-icon-tn{background-image:url("../../flag-icon-css/flags/4x3/tn.svg")}.flag-icon-tn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tn.svg")}.flag-icon-to{background-image:url("../../flag-icon-css/flags/4x3/to.svg")}.flag-icon-to.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/to.svg")}.flag-icon-tr{background-image:url("../../flag-icon-css/flags/4x3/tr.svg")}.flag-icon-tr.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tr.svg")}.flag-icon-tt{background-image:url("../../flag-icon-css/flags/4x3/tt.svg")}.flag-icon-tt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tt.svg")}.flag-icon-tv{background-image:url("../../flag-icon-css/flags/4x3/tv.svg")}.flag-icon-tv.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tv.svg")}.flag-icon-tw{background-image:url("../../flag-icon-css/flags/4x3/tw.svg")}.flag-icon-tw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tw.svg")}.flag-icon-tz{background-image:url("../../flag-icon-css/flags/4x3/tz.svg")}.flag-icon-tz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/tz.svg")}.flag-icon-ua{background-image:url("../../flag-icon-css/flags/4x3/ua.svg")}.flag-icon-ua.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ua.svg")}.flag-icon-ug{background-image:url("../../flag-icon-css/flags/4x3/ug.svg")}.flag-icon-ug.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ug.svg")}.flag-icon-um{background-image:url("../../flag-icon-css/flags/4x3/um.svg")}.flag-icon-um.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/um.svg")}.flag-icon-us{background-image:url("../../flag-icon-css/flags/4x3/us.svg")}.flag-icon-us.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/us.svg")}.flag-icon-uy{background-image:url("../../flag-icon-css/flags/4x3/uy.svg")}.flag-icon-uy.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/uy.svg")}.flag-icon-uz{background-image:url("../../flag-icon-css/flags/4x3/uz.svg")}.flag-icon-uz.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/uz.svg")}.flag-icon-va{background-image:url("../../flag-icon-css/flags/4x3/va.svg")}.flag-icon-va.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/va.svg")}.flag-icon-vc{background-image:url("../../flag-icon-css/flags/4x3/vc.svg")}.flag-icon-vc.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/vc.svg")}.flag-icon-ve{background-image:url("../../flag-icon-css/flags/4x3/ve.svg")}.flag-icon-ve.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ve.svg")}.flag-icon-vg{background-image:url("../../flag-icon-css/flags/4x3/vg.svg")}.flag-icon-vg.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/vg.svg")}.flag-icon-vi{background-image:url("../../flag-icon-css/flags/4x3/vi.svg")}.flag-icon-vi.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/vi.svg")}.flag-icon-vn{background-image:url("../../flag-icon-css/flags/4x3/vn.svg")}.flag-icon-vn.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/vn.svg")}.flag-icon-vu{background-image:url("../../flag-icon-css/flags/4x3/vu.svg")}.flag-icon-vu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/vu.svg")}.flag-icon-wf{background-image:url("../../flag-icon-css/flags/4x3/wf.svg")}.flag-icon-wf.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/wf.svg")}.flag-icon-ws{background-image:url("../../flag-icon-css/flags/4x3/ws.svg")}.flag-icon-ws.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ws.svg")}.flag-icon-ye{background-image:url("../../flag-icon-css/flags/4x3/ye.svg")}.flag-icon-ye.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/ye.svg")}.flag-icon-yt{background-image:url("../../flag-icon-css/flags/4x3/yt.svg")}.flag-icon-yt.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/yt.svg")}.flag-icon-za{background-image:url("../../flag-icon-css/flags/4x3/za.svg")}.flag-icon-za.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/za.svg")}.flag-icon-zm{background-image:url("../../flag-icon-css/flags/4x3/zm.svg")}.flag-icon-zm.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/zm.svg")}.flag-icon-zw{background-image:url("../../flag-icon-css/flags/4x3/zw.svg")}.flag-icon-zw.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/zw.svg")}.flag-icon-eu{background-image:url("../../flag-icon-css/flags/4x3/eu.svg")}.flag-icon-eu.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/eu.svg")}.flag-icon-gb-eng{background-image:url("../../flag-icon-css/flags/4x3/gb-eng.svg")}.flag-icon-gb-eng.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gb-eng.svg")}.flag-icon-gb-sct{background-image:url("../../flag-icon-css/flags/4x3/gb-sct.svg")}.flag-icon-gb-sct.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gb-sct.svg")}.flag-icon-gb-wls{background-image:url("../../flag-icon-css/flags/4x3/gb-wls.svg")}.flag-icon-gb-wls.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/gb-wls.svg")}.flag-icon-un{background-image:url("../../flag-icon-css/flags/4x3/un.svg")}.flag-icon-un.flag-icon-squared{background-image:url("../../flag-icon-css/flags/1x1/un.svg")}</style>
<script>﻿/*! @preserve
 * numeral.js
 * version : 2.0.1
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */

(function () {
    /************************************
        Variables
    ************************************/

    var numeral,
        _,
        VERSION = '2.0.1',
        formats = {},
        locales = {},
        defaults = {
            currentLocale: 'en',
            zeroFormat: null,
            nullFormat: null,
            defaultFormat: '0,0'
        },
        options = {
            currentLocale: defaults.currentLocale,
            zeroFormat: defaults.zeroFormat,
            nullFormat: defaults.nullFormat,
            defaultFormat: defaults.defaultFormat
        };


    /************************************
        Constructors
    ************************************/

    // Numeral prototype object
    function Numeral(input, number) {
        this._input = input;

        this._value = number;
    }

    numeral = function (input) {
        var value,
            kind,
            unformatFunction,
            regexp;

        if (numeral.isNumeral(input)) {
            value = input.value();
        } else if (input === 0 || typeof input === 'undefined') {
            value = 0;
        } else if (input === null || _.isNaN(input)) {
            value = null;
        } else if (typeof input === 'string') {
            if (options.zeroFormat && input === options.zeroFormat) {
                value = 0;
            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {
                value = null;
            } else {
                for (kind in formats) {
                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;

                    if (regexp && input.match(regexp)) {
                        unformatFunction = formats[kind].unformat;

                        break;
                    }
                }

                unformatFunction = unformatFunction || numeral._.stringToNumber;

                value = unformatFunction(input);
            }
        } else {
            value = Number(input) || null;
        }

        return new Numeral(input, value);
    };

    // version number
    numeral.version = VERSION;

    // compare numeral object
    numeral.isNumeral = function (obj) {
        return obj instanceof Numeral;
    };

    // helper functions
    numeral._ = _ = {
        // formats numbers separators, decimals places, signs, abbreviations
        numberToFormat: function (value, format, roundingFunction) {
            var locale = locales[numeral.options.currentLocale],
                negP = false,
                signed = false,
                optDec = false,
                abbr = '',
                trillion = 1000000000000,
                billion = 1000000000,
                million = 1000000,
                thousand = 1000,
                abbrForce, // force abbreviation
                abs,
                min,
                max,
                power,
                int,
                precision,
                thousands,
                decimal = '',
                neg = false;

            // make sure we never format a null value
            value = value || 0;

            abs = Math.abs(value);

            // see if we should use parentheses for negative number or if we should prefix with a sign
            // if both are present we default to parentheses
            if (numeral._.includes(format, '(')) {
                negP = true;
                format = format.slice(1, -1);
            } else if (numeral._.includes(format, '+')) {
                signed = true;
                format = format.replace(/\+/g, '');
            }

            // see if abbreviation is wanted
            if (numeral._.includes(format, 'a')) {
                abbrForce = format.match(/a(k|m|b|t)?/);

                abbrForce = abbrForce ? abbrForce[1] : false;

                // check for space before abbreviation
                if (numeral._.includes(format, ' a')) {
                    abbr = ' ';
                }

                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');

                if (abs >= trillion && !abbrForce || abbrForce === 't') {
                    // trillion
                    abbr += locale.abbreviations.trillion;
                    value = value / trillion;
                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {
                    // billion
                    abbr += locale.abbreviations.billion;
                    value = value / billion;
                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {
                    // million
                    abbr += locale.abbreviations.million;
                    value = value / million;
                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {
                    // thousand
                    abbr += locale.abbreviations.thousand;
                    value = value / thousand;
                }
            }


            if (numeral._.includes(format, '[.]')) {
                optDec = true;
                format = format.replace('[.]', '.');
            }

            int = value.toString().split('.')[0];
            precision = format.split('.')[1];
            thousands = format.indexOf(',');

            if (precision) {
                if (numeral._.includes(precision, '[')) {
                    precision = precision.replace(']', '');
                    precision = precision.split('[');
                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);
                } else {
                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);
                }

                int = decimal.split('.')[0];

                if (numeral._.includes(decimal, '.')) {
                    decimal = locale.delimiters.decimal + decimal.split('.')[1];
                } else {
                    decimal = '';
                }

                if (optDec && Number(decimal.slice(1)) === 0) {
                    decimal = '';
                }
            } else {
                int = numeral._.toFixed(value, null, roundingFunction);
            }

            // format number
            if (numeral._.includes(int, '-')) {
                int = int.slice(1);
                neg = true;
            }

            if (thousands > -1) {
                int = int.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1' + locale.delimiters.thousands);
            }

            if (format.indexOf('.') === 0) {
                int = '';
            }

            return (negP && neg ? '(' : '') + (!negP && neg ? '-' : '') + (!neg && signed ? '+' : '') + int + decimal + (abbr ? abbr : '') + (negP && neg ? ')' : '');
        },
        // unformats numbers separators, decimals places, signs, abbreviations
        stringToNumber: function (string) {
            var locale = locales[options.currentLocale],
                stringOriginal = string,
                abbreviations = {
                    thousand: 3,
                    million: 6,
                    billion: 9,
                    trillion: 12
                },
                abbreviation,
                value,
                i,
                regexp;

            if (options.zeroFormat && string === options.zeroFormat) {
                value = 0;
            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {
                value = null;
            } else {
                value = 1;

                if (locale.delimiters.decimal !== '.') {
                    string = string.replace(/\./g, '').replace(locale.delimiters.decimal, '.');
                }

                for (abbreviation in abbreviations) {
                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\)|(\\' + locale.currency.symbol + ')?(?:\\))?)?$');

                    if (stringOriginal.match(regexp)) {
                        value *= Math.pow(10, abbreviations[abbreviation]);
                        break;
                    }
                }

                // check for negative number
                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;

                // remove non numbers
                string = string.replace(/[^0-9\.]+/g, '');

                value *= Number(string);
            }

            return value;
        },
        isNaN: function (value) {
            return typeof value === 'number' && isNaN(value);
        },
        includes: function (string, search) {
            return string.indexOf(search) !== -1;
        },
        reduce: function (array, callback /*, initialValue*/) {
            if (this === null) {
                throw new TypeError('Array.prototype.reduce called on null or undefined');
            }

            if (typeof callback !== 'function') {
                throw new TypeError(callback + ' is not a function');
            }

            var t = Object(array),
                len = t.length >>> 0,
                k = 0,
                value;

            if (arguments.length === 3) {
                value = arguments[2];
            } else {
                while (k < len && !(k in t)) {
                    k++;
                }

                if (k >= len) {
                    throw new TypeError('Reduce of empty array with no initial value');
                }

                value = t[k++];
            }
            for (; k < len; k++) {
                if (k in t) {
                    value = callback(value, t[k], k, t);
                }
            }
            return value;
        },
        /**
         * Computes the multiplier necessary to make x >= 1,
         * effectively eliminating miscalculations caused by
         * finite precision.
         */
        multiplier: function (x) {
            var parts = x.toString().split('.');

            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);
        },
        /**
         * Given a variable number of arguments, returns the maximum
         * multiplier that must be used to normalize an operation involving
         * all of them.
         */
        correctionFactor: function () {
            var args = Array.prototype.slice.call(arguments);

            return args.reduce(function (accum, next) {
                var mn = _.multiplier(next);
                return accum > mn ? accum : mn;
            }, 1);
        },
        /**
         * Implementation of toFixed() that treats floats more like decimals
         *
         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present
         * problems for accounting- and finance-related software.
         */
        toFixed: function (value, maxDecimals, roundingFunction, optionals) {
            var splitValue = value.toString().split('.'),
                minDecimals = maxDecimals - (optionals || 0),
                boundedPrecision,
                optionalsRegExp,
                power,
                output;

            // Use the smallest precision value possible to avoid errors from floating point representation
            if (splitValue.length === 2) {
                boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);
            } else {
                boundedPrecision = minDecimals;
            }

            power = Math.pow(10, boundedPrecision);

            //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);
            // Multiply up by precision, round accurately, then divide and use native toFixed():
            output = (roundingFunction(value * power) / power).toFixed(boundedPrecision);

            if (optionals > maxDecimals - boundedPrecision) {
                optionalsRegExp = new RegExp('\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');
                output = output.replace(optionalsRegExp, '');
            }

            return output;
        }
    };

    // avaliable options
    numeral.options = options;

    // avaliable formats
    numeral.formats = formats;

    // avaliable formats
    numeral.locales = locales;

    // This function sets the current locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    numeral.locale = function (key) {
        if (!key) {
            return options.currentLocale;
        }

        options.currentLocale = key.toLowerCase();

        return numeral;
    };

    // This function provides access to the loaded locale data.  If
    // no arguments are passed in, it will simply return the current
    // global locale object.
    numeral.localeData = function (key) {
        if (!key) {
            return locales[options.currentLocale];
        }

        key = key.toLowerCase();

        if (!locales[key]) {
            throw new Error('Unknown locale : ' + key);
        }

        return locales[key];
    };

    numeral.reset = function () {
        for (var property in defaults) {
            options[property] = defaults[property];
        }
    };

    numeral.zeroFormat = function (format) {
        options.zeroFormat = typeof (format) === 'string' ? format : null;
    };

    numeral.nullFormat = function (format) {
        options.nullFormat = typeof (format) === 'string' ? format : null;
    };

    numeral.defaultFormat = function (format) {
        options.defaultFormat = typeof (format) === 'string' ? format : '0.0';
    };

    numeral.register = function (type, name, format) {
        name = name.toLowerCase();

        if (this[type + 's'][name]) {
            throw new TypeError(name + ' ' + type + ' already registered.');
        }

        this[type + 's'][name] = format;
    };


    numeral.validate = function (val, culture) {
        var _decimalSep,
            _thousandSep,
            _currSymbol,
            _valArray,
            _abbrObj,
            _thousandRegEx,
            localeData,
            temp;

        //coerce val to string
        if (typeof val !== 'string') {
            val += '';

            if (console.warn) {
                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);
            }
        }

        //trim whitespaces from either sides
        val = val.trim();

        //if val is just digits return true
        if (!!val.match(/^\d+$/)) {
            return true;
        }

        //if val is empty return false
        if (val === '') {
            return false;
        }

        //get the decimal and thousands separator from numeral.localeData
        try {
            //check if the culture is understood by numeral. if not, default it to current locale
            localeData = numeral.localeData(culture);
        } catch (e) {
            localeData = numeral.localeData(numeral.locale());
        }

        //setup the delimiters and currency symbol based on culture/locale
        _currSymbol = localeData.currency.symbol;
        _abbrObj = localeData.abbreviations;
        _decimalSep = localeData.delimiters.decimal;
        if (localeData.delimiters.thousands === '.') {
            _thousandSep = '\\.';
        } else {
            _thousandSep = localeData.delimiters.thousands;
        }

        // validating currency symbol
        temp = val.match(/^[^\d]+/);
        if (temp !== null) {
            val = val.substr(1);
            if (temp[0] !== _currSymbol) {
                return false;
            }
        }

        //validating abbreviation symbol
        temp = val.match(/[^\d]+$/);
        if (temp !== null) {
            val = val.slice(0, -1);
            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {
                return false;
            }
        }

        _thousandRegEx = new RegExp(_thousandSep + '{2}');

        if (!val.match(/[^\d.,]/g)) {
            _valArray = val.split(_decimalSep);
            if (_valArray.length > 2) {
                return false;
            } else {
                if (_valArray.length < 2) {
                    return (!!_valArray[0].match(/^\d+.*\d$/) && !_valArray[0].match(_thousandRegEx));
                } else {
                    if (_valArray[0].length === 1) {
                        return (!!_valArray[0].match(/^\d+$/) && !_valArray[0].match(_thousandRegEx) && !!_valArray[1].match(/^\d+$/));
                    } else {
                        return (!!_valArray[0].match(/^\d+.*\d$/) && !_valArray[0].match(_thousandRegEx) && !!_valArray[1].match(/^\d+$/));
                    }
                }
            }
        }

        return false;
    };


    /************************************
        Numeral Prototype
    ************************************/

    numeral.fn = Numeral.prototype = {
        clone: function () {
            return numeral(this);
        },
        format: function (inputString, roundingFunction) {
            var value = this._value,
                format = inputString || options.defaultFormat,
                kind,
                output,
                formatFunction;

            // make sure we have a roundingFunction
            roundingFunction = roundingFunction || Math.round;

            // format based on value
            if (value === 0 && options.zeroFormat !== null) {
                output = options.zeroFormat;
            } else if (value === null && options.nullFormat !== null) {
                output = options.nullFormat;
            } else {
                for (kind in formats) {
                    if (format.match(formats[kind].regexps.format)) {
                        formatFunction = formats[kind].format;

                        break;
                    }
                }

                formatFunction = formatFunction || numeral._.numberToFormat;

                output = formatFunction(value, format, roundingFunction);
            }

            return output;
        },
        value: function () {
            return this._value;
        },
        input: function () {
            return this._input;
        },
        set: function (value) {
            this._value = Number(value);

            return this;
        },
        add: function (value) {
            var corrFactor = _.correctionFactor.call(null, this._value, value);

            function cback(accum, curr, currI, O) {
                return accum + Math.round(corrFactor * curr);
            }

            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;

            return this;
        },
        subtract: function (value) {
            var corrFactor = _.correctionFactor.call(null, this._value, value);

            function cback(accum, curr, currI, O) {
                return accum - Math.round(corrFactor * curr);
            }

            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;

            return this;
        },
        multiply: function (value) {
            function cback(accum, curr, currI, O) {
                var corrFactor = _.correctionFactor(accum, curr);
                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);
            }

            this._value = _.reduce([this._value, value], cback, 1);

            return this;
        },
        divide: function (value) {
            function cback(accum, curr, currI, O) {
                var corrFactor = _.correctionFactor(accum, curr);
                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);
            }

            this._value = _.reduce([this._value, value], cback);

            return this;
        },
        difference: function (value) {
            return Math.abs(numeral(this._value).subtract(value).value());
        }
    };

    /************************************
        Default Locale && Format
    ************************************/

    numeral.register('locale', 'en', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: '$'
        }
    });


    /************************************
        Exposing Numeral
    ************************************/

    // CommonJS module is defined
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = numeral;
    }

    /*global ender:false */
    if (typeof ender === 'undefined') {
        // here, `this` means `window` in the browser, or `global` on the server
        // add `numeral` as a global object via a string identifier,
        // for Closure Compiler 'advanced' mode
        this['numeral'] = numeral;
    }

    /*global define:false */
    if (typeof define === 'function' && define.amd) {
        define([], function () {
            return numeral;
        });
    }
}).call(this);

/*
 * numeral.js format configuration
 * format : bytes
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral'),
        decimal = {
            base: 1000,
            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']
        },
        binary = {
            base: 1024,
            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']
        };

    numeral.register('format', 'bytes', {
        regexps: {
            format: /([0\s]i?b)/,
            unformat: new RegExp('(' + decimal.suffixes.concat(binary.suffixes).join('|') + ')')
        },
        format: function (value, format, roundingFunction) {
            var output,
                bytes = numeral._.includes(format, 'ib') ? binary : decimal,
                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',
                power,
                min,
                max;

            // check for space before
            format = format.replace(/\s?i?b/, '');

            for (power = 0; power <= bytes.suffixes.length; power++) {
                min = Math.pow(bytes.base, power);
                max = Math.pow(bytes.base, power + 1);

                if (value === null || value === 0 || value >= min && value < max) {
                    suffix += bytes.suffixes[power];

                    if (min > 0) {
                        value = value / min;
                    }

                    break;
                }
            }

            output = numeral._.numberToFormat(value, format, roundingFunction);

            return output + suffix;
        },
        unformat: function (string) {
            var value = numeral._.stringToNumber(string),
                power,
                bytesMultiplier;

            if (value) {
                for (power = decimal.suffixes.length - 1; power >= 0; power--) {
                    if (numeral._.includes(string, decimal.suffixes[power])) {
                        bytesMultiplier = Math.pow(decimal.base, power);

                        break;
                    }

                    if (numeral._.includes(string, binary.suffixes[power])) {
                        bytesMultiplier = Math.pow(binary.base, power);

                        break;
                    }
                }

                value *= (bytesMultiplier || 1);
            }

            return value;
        }
    });
}());

/*
 * numeral.js format configuration
 * format : currency
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('format', 'currency', {
        regexps: {
            format: /(\$)/
        },
        format: function (value, format, roundingFunction) {
            var locale = numeral.locales[numeral.options.currentLocale],
                symbolIndex = format.indexOf('$'),
                openParenIndex = format.indexOf('('),
                minusSignIndex = format.indexOf('-'),
                space = numeral._.includes(format, ' $') || numeral._.includes(format, '$ ') ? ' ' : '',
                spliceIndex,
                output;

            // strip format of spaces and $
            format = format.replace(/\s?\$\s?/, '');

            // format the number
            output = numeral._.numberToFormat(value, format, roundingFunction);

            // position the symbol
            if (symbolIndex <= 1) {
                if (numeral._.includes(output, '(') || numeral._.includes(output, '-')) {
                    output = output.split('');

                    spliceIndex = symbolIndex < openParenIndex || symbolIndex < minusSignIndex ? 0 : 1;

                    output.splice(spliceIndex, 0, locale.currency.symbol + space);

                    output = output.join('');
                } else {
                    output = locale.currency.symbol + space + output;
                }
            } else {
                if (numeral._.includes(output, ')')) {
                    output = output.split('');

                    output.splice(-1, 0, space + locale.currency.symbol);

                    output = output.join('');
                } else {
                    output = output + space + locale.currency.symbol;
                }
            }

            return output;
        }
    });
}());

/*
 * numeral.js format configuration
 * format : exponential
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('format', 'exponential', {
        regexps: {
            format: /(e\+|e-)/,
            unformat: /(e\+|e-)/
        },
        format: function (value, format, roundingFunction) {
            var output,
                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',
                parts = exponential.split('e');

            format = format.replace(/e[\+|\-]{1}0/, '');

            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);

            return output + 'e' + parts[1];
        },
        unformat: function (string) {
            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),
                value = Number(parts[0]),
                power = Number(parts[1]);

            power = numeral._.includes(string, 'e-') ? power *= -1 : power;

            function cback(accum, curr, currI, O) {
                var corrFactor = numeral._.correctionFactor(accum, curr),
                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);
                return num;
            }

            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);
        }
    });
}());

/*
 * numeral.js format configuration
 * format : ordinal
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    // get numeral from environment
    if (typeof window !== 'undefined' && this.numeral) {
        // Browser
        numeral = this.numeral;
    } else if (typeof module !== 'undefined' && module.exports) {
        // Node
        numeral = require('../numeral');
    }

    numeral.register('format', 'ordinal', {
        regexps: {
            format: /(o)/
        },
        format: function (value, format, roundingFunction) {
            var locale = numeral.locales[numeral.options.currentLocale],
                output,
                ordinal = numeral._.includes(format, ' o') ? ' ' : '';

            // check for space before
            format = format.replace(/\s?o/, '');

            ordinal += locale.ordinal(value);

            output = numeral._.numberToFormat(value, format, roundingFunction);

            return output + ordinal;
        }
    });
}());

/*
 * numeral.js format configuration
 * format : percentage
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('format', 'percentage', {
        regexps: {
            format: /(%)/,
            unformat: /(%)/
        },
        format: function (value, format, roundingFunction) {
            var space = numeral._.includes(format, ' %') ? ' ' : '',
                output;

            value = value * 100;

            // check for space before %
            format = format.replace(/\s?\%/, '');

            output = numeral._.numberToFormat(value, format, roundingFunction);

            if (numeral._.includes(output, ')')) {
                output = output.split('');

                output.splice(-1, 0, space + '%');

                output = output.join('');
            } else {
                output = output + space + '%';
            }

            return output;
        },
        unformat: function (string) {
            return numeral._.stringToNumber(string) * 0.01;
        }
    });
}());

/*
 * numeral.js format configuration
 * format : time
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('format', 'time', {
        regexps: {
            format: /(:)/,
            unformat: /(:)/
        },
        format: function (value, format, roundingFunction) {
            var hours = Math.floor(value / 60 / 60),
                minutes = Math.floor((value - (hours * 60 * 60)) / 60),
                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));

            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);
        },
        unformat: function (string) {
            var timeArray = string.split(':'),
                seconds = 0;

            // turn hours and minutes into seconds and add them all up
            if (timeArray.length === 3) {
                // hours
                seconds = seconds + (Number(timeArray[0]) * 60 * 60);
                // minutes
                seconds = seconds + (Number(timeArray[1]) * 60);
                // seconds
                seconds = seconds + Number(timeArray[2]);
            } else if (timeArray.length === 2) {
                // minutes
                seconds = seconds + (Number(timeArray[0]) * 60);
                // seconds
                seconds = seconds + Number(timeArray[1]);
            }
            return Number(seconds);
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : belgium-dutch (be-nl)
 * author : Dieter Luypaert : https://github.com/moeriki
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'be-nl', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: ' mln',
            billion: ' mld',
            trillion: ' bln'
        },
        ordinal: function (number) {
            var remainder = number % 100;

            return (number !== 0 && remainder <= 1 || remainder === 8 || remainder >= 20) ? 'ste' : 'de';
        },
        currency: {
            symbol: '€ '
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : Bulgarian
 * author : Don Vince : https://github.com/donvince/
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'bg', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: { // I found these here http://www.unicode.org/cldr/charts/28/verify/numbers/bg.html
            thousand: 'хил',
            million: 'млн',
            billion: 'млрд',
            trillion: 'трлн'
        },
        ordinal: function (number) {
            // google translate suggests:
            // 1st=1-ви; 2nd=2-ри; 7th=7-ми;
            // 8th=8-ми and many others end with -ти
            // for example 3rd=3-ти
            // However since I've seen suggestions that in
            // Bulgarian the ordinal can be taken in
            // different forms (masculine, feminine, neuter)
            // I've opted to wimp out on commiting that to code
            return '';
        },
        currency: {
            symbol: 'лв'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : simplified chinese (chs)
 * author : badplum : https://github.com/badplum
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'chs', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: '千',
            million: '百万',
            billion: '十亿',
            trillion: '兆'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '¥'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : czech (cs)
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'cs', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tis.',
            million: 'mil.',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            return '.';
        },
        currency: {
            symbol: 'Kč'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : danish denmark (dk)
 * author : Michael Storgaard : https://github.com/mstorgaard
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'da-dk', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mio',
            billion: 'mia',
            trillion: 'b'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'DKK'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : German in Switzerland (de-ch)
 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'de-ch', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'CHF'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : German (de) – generally useful in Germany, Austria, Luxembourg, Belgium
 * author : Marco Krage : https://github.com/sinky
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'de', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : English Australia
 * author : Don Vince : https://github.com/donvince/
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'en-au', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: '$'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : english united kingdom (uk)
 * author : Dan Ristic : https://github.com/dristic
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'en-gb', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: '£'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : english south africa (uk)
 * author : Etienne Boshoff : etienne@zailab.com
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'en-za', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                    (b === 2) ? 'nd' :
                        (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: 'R'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : spanish Spain
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'es-es', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (b === 1 || b === 3) ? 'er' :
                (b === 2) ? 'do' :
                    (b === 7 || b === 0) ? 'mo' :
                        (b === 8) ? 'vo' :
                            (b === 9) ? 'no' : 'to';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : spanish
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'es', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (b === 1 || b === 3) ? 'er' :
                (b === 2) ? 'do' :
                (b === 7 || b === 0) ? 'mo' :
		(b === 8) ? 'vo' :
		(b === 9) ? 'no' : 'to';
        },
        currency: {
            symbol: '$'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : Estonian
 * author : Illimar Tambek : https://github.com/ragulka
 *
 * Note: in Estonian, abbreviations are always separated
 * from numbers with a space
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'et', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: ' tuh',
            million: ' mln',
            billion: ' mld',
            trillion: ' trl'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : Finnish
 * author : Sami Saada : https://github.com/samitheberber
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'fi', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'M',
            billion: 'G',
            trillion: 'T'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : french (Canada) (fr-ca)
 * author : Léo Renaud-Allaire : https://github.com/renaudleo
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'fr-ca', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'M',
            billion: 'G',
            trillion: 'T'
        },
        ordinal: function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: '$'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : french (fr-ch)
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'fr-ch', {
        delimiters: {
            thousands: '\'',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: 'CHF'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : french (fr)
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'fr', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : Hungarian (hu)
 * author : Peter Bakondy : https://github.com/pbakondy
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'hu', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'E',  // ezer
            million: 'M',   // millió
            billion: 'Mrd', // milliárd
            trillion: 'T'   // trillió
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ' Ft'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : italian Italy (it)
 * author : Giacomo Trombi : http://cinquepunti.it
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'it', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'mila',
            million: 'mil',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return 'º';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : japanese
 * author : teppeis : https://github.com/teppeis
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'ja', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: '千',
            million: '百万',
            billion: '十億',
            trillion: '兆'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '¥'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : Latvian (lv)
 * author : Lauris Bukšis-Haberkorns : https://github.com/Lafriks
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'lv', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: ' tūkst.',
            million: ' milj.',
            billion: ' mljrd.',
            trillion: ' trilj.'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : netherlands-dutch (nl-nl)
 * author : Dave Clayton : https://github.com/davedx
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'nl-nl', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mln',
            billion: 'mrd',
            trillion: 'bln'
        },
        ordinal: function (number) {
            var remainder = number % 100;
            return (number !== 0 && remainder <= 1 || remainder === 8 || remainder >= 20) ? 'ste' : 'de';
        },
        currency: {
            symbol: '€ '
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : norwegian (bokmål)
 * author : Ove Andersen : https://github.com/azzlack
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'no', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'kr'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : polish (pl)
 * author : Dominik Bulaj : https://github.com/dominikbulaj
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'pl', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tys.',
            million: 'mln',
            billion: 'mld',
            trillion: 'bln'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'PLN'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : portuguese brazil (pt-br)
 * author : Ramiro Varandas Jr : https://github.com/ramirovjr
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'pt-br', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'mil',
            million: 'milhões',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return 'º';
        },
        currency: {
            symbol: 'R$'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : portuguese (pt-pt)
 * author : Diogo Resende : https://github.com/dresende
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'pt-pt', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return 'º';
        },
        currency: {
            symbol: '€'
        }
    });
}());

// numeral.js locale configuration
// locale : Russian for the Ukraine (ru-ua)
// author : Anatoli Papirovski : https://github.com/apapirovski
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'ru-ua', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'тыс.',
            million: 'млн',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            // not ideal, but since in Russian it can taken on
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return '.';
        },
        currency: {
            symbol: '\u20B4'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : russian (ru)
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'ru', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'тыс.',
            million: 'млн.',
            billion: 'млрд.',
            trillion: 'трлн.'
        },
        ordinal: function () {
            // not ideal, but since in Russian it can taken on
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return '.';
        },
        currency: {
            symbol: 'руб.'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : slovak (sk)
 * author : Ahmed Al Hafoudh : http://www.freevision.sk
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'sk', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tis.',
            million: 'mil.',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            return '.';
        },
        currency: {
            symbol: '€'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : thai (th)
 * author : Sathit Jittanupat : https://github.com/jojosati
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'th', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'พัน',
            million: 'ล้าน',
            billion: 'พันล้าน',
            trillion: 'ล้านล้าน'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '฿'
        }
    });
}());

/*
 * numeral.js locale configuration
 * locale : turkish (tr)
 * author : Ecmel Ercan : https://github.com/ecmel, Erhan Gundogan : https://github.com/erhangundogan, Burak Yiğit Kaya: https://github.com/BYK
 */
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral'),
        suffixes = {
            1: '\'inci',
            5: '\'inci',
            8: '\'inci',
            70: '\'inci',
            80: '\'inci',

            2: '\'nci',
            7: '\'nci',
            20: '\'nci',
            50: '\'nci',

            3: '\'üncü',
            4: '\'üncü',
            100: '\'üncü',

            6: '\'ncı',

            9: '\'uncu',
            10: '\'uncu',
            30: '\'uncu',

            60: '\'ıncı',
            90: '\'ıncı'
        };

    numeral.register('locale', 'tr', {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'bin',
            million: 'milyon',
            billion: 'milyar',
            trillion: 'trilyon'
        },
        ordinal: function (number) {
            if (number === 0) {  // special case for zero
                return '\'ıncı';
            }

            var a = number % 10,
                b = number % 100 - a,
                c = number >= 100 ? 100 : null;

            return suffixes[a] || suffixes[b] || suffixes[c];
        },
        currency: {
            symbol: '\u20BA'
        }
    });
}());

// numeral.js locale configuration
// locale : Ukrainian for the Ukraine (uk-ua)
// author : Michael Piefel : https://github.com/piefel (with help from Tetyana Kuzmenko)
(function () {
    var numeral = typeof window !== 'undefined' && window.numeral ? window.numeral : require('../numeral');

    numeral.register('locale', 'uk-ua', {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'тис.',
            million: 'млн',
            billion: 'млрд',
            trillion: 'блн'
        },
        ordinal: function () {
            // not ideal, but since in Ukrainian it can taken on
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return '';
        },
        currency: {
            symbol: '\u20B4'
        }
    });
}());</script>

<dom-module id="twitchtv-card" assetpath="../../streaming-list/">
    
    <template>
        <style include="card-style"></style>
        <paper-card class="white" on-tap="_onTap" animated-shadow="true" id="card">
            <div class="card-image">
                <iron-image id="image" on-loaded-changed="_onImageLoaded">
                </iron-image>
            </div>
            <div class="card-header">
                <textfit-div id="status" min-font-size="10" max-font-size="22" text="[[data.channel.status]]" manual-fire=""></textfit-div>
            </div>
            <div class="card-content">
                <paper-icon-button src="[[_formatLogo(data.channel.logo)]]" title$="[[data.channel.display_name]] Kanalına Git"></paper-icon-button>
                <div class="details">
                    <div class="heading" style="color: black !important;">
                        <textfit-div id="title" text="[[data.channel.display_name]]" ignore-errors="true" manual-fire=""></textfit-div>
                        <span class$="[[formatFlag(data.channel.language)]]" title$="[[formatLanguage(data.channel.language)]]"></span>
                    </div>
                    <div class="game">
                        <iron-icon icon="hardware:videogame-asset"></iron-icon>
                        <span id="game" title$="Daha fazla -> [[data.channel.game]]">[[data.channel.game]]</span>
                    </div>
                    <div class="viewers">
                        <iron-icon icon="icons:visibility"></iron-icon>
                        <span id="viewers">[[_formatViewers(data.viewers)]]</span>
                    </div>
                </div>
            </div>
            <paper-ripple recenters="" should-keep-animating="true"></paper-ripple>
        </paper-card>
    </template>
    <script>
    Polymer({
      is: "twitchtv-card",
      /**
       * Fired when the card is fully loaded (including image).
       *
       * @event loaded
       */
      /**
       * Fired when the data was changed.
       *
       * @event data-changed
       */
      properties: {
        /**
         * `data` JSON Object representing source data (look Twitch.TV api for details)
         */
        data: {
          type: Object,
          notify: true,
          value: function(){
            return {
              channel: {
                status: null,
                logo: null,
                display_name: null,
                language: null,
                game: null
              },
              viewers: null,
              preview: {
                template: null
              }
            }
          }
        },

        /**
         * `width` If you define width (in pixels) the card size will be fixed with the given width, this number is also used to load the preview image closest to the given width
         */
        width: {
          type: Number,
          value: null
        },

        /**
         * `animationConfig` Animation configuration (See Polymer docs for details)
         */
        animationConfig: {
          value: function() {
            return {
              name: 'fade-in-animation',
              node: this.$.card
            }
          }
        }
      },

      listeners: {
        'neon-animation-finish': '_onNeonAnimationFinish'
      },

      observers: [
        '_loadImage(data, width)',
        '_onWidthChanged(width)'
      ],

      behaviors: [
        Polymer.NeonAnimationRunnerBehavior,
        document.StreamingList.FlagBehavior
      ],

      _concatParams: function (limit, lang, game) {
        return JSON.stringify({
          limit: limit,
          language: lang,
          game: game
        });
      },

      _formatViewers: function (views) {
          numeral.locale('tr');
          return numeral(views).format('0a') + ' izleyici';
          //return numeral(views).format('0a') + ' viewers';
      },

      _formatStatus: function (status) {
        var cut = status.substr(0, 80)
        if (status.length > cut.length) {
          cut += '...';
        }
        return cut;
      },

      _formatLogo: function (image) {
        if(image) {
          return image;
        } else {
            return "assets/img/twitch_icon.svg";
        }
      },

      _gameUrl: function (game) {
        return 'https://www.twitch.tv/directory/game/' + encodeURI(game);
      },

      _onTap: function (event) {
        if(Polymer.dom(event).localTarget === this.$.game) {
          window.open(this._gameUrl(this.data.channel.game), '_blank');
          return;
        }

        window.open(this.data.channel.url, '_blank');
      },

      _onImageLoaded: function(event) {
        this.$.status.doFitMe();
        this.$.title.doFitMe();
        // Only play animation if element was not loaded before AND there is a IMAGE loaded
        if(!this.$.card.classList.contains('loaded')
          && this.$.image.loaded
        ) {
          // console.log('Found a image, animating', event.target);
          this.$.card.classList.add('loaded');
          this.playAnimation();
        }
      },

      _onNeonAnimationFinish: function(event) {
        // simulate delay (only for testing)
        /*
        setTimeout(function(){
          this.fire('loaded', this);
        }.bind(this), Math.round(Math.random() * 2000));
        */

        this.fire('loaded', this);
      },

      _onWidthChanged: function(event) {
        if(!this.width) {
          this.width = this.clientWidth;
        } else {
          this.style.display = 'inline-block';
        }

        this.style.width = this.width + 'px';
        this._loadImage();
      },

      _loadImage: function() {
        var url,
            // Get width form client width
            width = this.width || this.$.card.clientWidth;
        if(!this.width || !this.data.preview.template) return;

        url = this.data.preview.template.replace('{width}', width);
        // Calcules height using 16:9 aspect ratio
        url = url.replace('{height}', Math.round(width / (16/9)));
        // Debug
        // url += '?' + Math.random();

        this.$.image.src = url;
      }
    });
    </script>
</dom-module>

﻿








<dom-module id="youtube-card" assetpath="../../streaming-list/">
    
    <template>
        <style include="card-style"></style>
        <paper-card on-tap="_onTap" animated-shadow="true" id="card">
            <div class="card-image">
                <iron-image id="image" on-loaded-changed="_onImageLoaded"></iron-image>
            </div>
            <div class="card-header">
                <textfit-div id="title" min-font-size="10" max-font-size="28" text="[[data.snippet.title]]" manual-fire=""></textfit-div>
            </div>
            <div class="card-content">
                <paper-icon-button id="channelLogo" src="[[_formatLogo()]]" title$="Go to [[data.snippet.channelTitle]] channel"></paper-icon-button>
                <div class="details">
                    <div class="heading">
                        <textfit-div id="channelTitle" text="[[data.snippet.channelTitle]]" ignore-errors="true" manual-fire=""></textfit-div>
                        <span id="flag" class$="[[formatFlag(lang)]]" title$="[[formatLanguage(lang)]]"></span>
                    </div>
                    <div class="game">
                        <iron-icon icon="hardware:videogame-asset"></iron-icon>
                        <span id="game" title$="More [[game]] streams">[[game]]</span>
                    </div>
                </div>
            </div>
            <paper-ripple recenters="" should-keep-animating="true"></paper-ripple>
        </paper-card>
    </template>
    <script>
    Polymer({
      is: "youtube-card",
      /**
       * Fired when the card is fully loaded (including image).
       *
       * @event loaded
       */
      properties: {
        /**
         * `data` JSON Object representing source data (look Twitch.TV api for details)
         */
        data: {
          type: Object,
          notify: true,
          value: function(){
            return {
              id: {
                videoId: null
              },
              snippet: {
               channelId: null,
               title: null,
               thumbnails: {
                default: {url: null, width: null},
                medium: {url: null, width: null},
                high: {url: null, width: null}
               },
               channelTitle: null
              }
            };
          }
        },

        /**
         * `width` If you define width (in pixels) the card size will be fixed with the given width, this number is also used to load the preview image closest to the given width
         */
        width: {
          type: Number,
          value: null,
          observer: '_updateWidth'
        },

        /**
         * `game` Game title (to generate links)
         */
        game: {
          type: String,
          value: null
        },

        /**
         * `lang` Language filter (to generate flag)
         */
        lang: {
          type: String,
          value: null
        },

        /**
         * `animationConfig` Animation configuration (See Polymer docs for details)
         */
        animationConfig: {
          value: function() {
            return {
              name: 'fade-in-animation',
              node: this.$.card
            }
          }
        }
      },
      listeners: {
        'neon-animation-finish': '_onNeonAnimationFinish'
      },
      observers: [
        '_setImageSrc(width, data.snippet.thumbnails)'
      ],
      behaviors: [
        Polymer.NeonAnimationRunnerBehavior,
        document.StreamingList.FlagBehavior
      ],
      _updateWidth: function() {
        if(!this.width) {
          this.width = this.clientWidth;
        } else {
          this.style.display = 'inline-block';
        }

        this.style.width = this.width + 'px';
      },
      _setImageSrc: function() {
        var min = this.data.snippet.thumbnails.default;
        var med = this.data.snippet.thumbnails.medium;
        var max = this.data.snippet.thumbnails.high;
        var src;

        if (this.width <= min.width * 1.10) {
          src = min.url;
        } else if (this.width <= med.width * 1.10) {
          src = med.url;
        } else {
          src = max.url;
        }
        if (src) this.$.image.src = src;
      },
      _formatTitle: function (title) {
        var cut = title.substr(0, 80)
        if (title.length > cut.length) {
          cut += '...';
        }
        return cut;
      },
      _formatLogo: function (image) {
        if(image) {
          return image;
        } else {
          return "../youtube_icon.svg";
        }
      },
      _gameUrl: function (game) {
        return 'https://gaming.youtube.com/results?search_query=' + encodeURI(game);
      },
      _onTap: function (event) {
        var target = Polymer.dom(event).localTarget;
        var url = 'https://gaming.youtube.com/watch?v=' + this.data.id.videoId;

        if (target === this.$.game) {
          url = this._gameUrl(this.game);
        }

        if (target === this.$.channelTitle || target === this.$.channelLogo) {
          url = 'https://gaming.youtube.com/channel/' + this.data.snippet.channelId;
        }

        window.open(url, '_blank');
      },
      _onImageLoaded: function(event) {
        this.$.title.doFitMe();
        this.$.channelTitle.doFitMe();

        // Only play animation if element was not loaded before AND there is a IMAGE loaded
        if(!this.$.card.classList.contains('loaded')
          && this.$.image.loaded
        ) {
          // console.log('Found a image, animating', event.target);
          this.$.card.classList.add('loaded');
          this.playAnimation();
        }
      },
      _onNeonAnimationFinish: function(event) {
        // simulate delay (only for testing)
        /*
        setTimeout(function(){
          this.fire('loaded', this);
        }.bind(this), Math.round(Math.random() * 2000));
        */

        this.fire('loaded', this);
      }
    });
    </script>
</dom-module>

﻿<dom-module id="streaming-list-style" assetpath="../../streaming-list/">
    <template>
        <style>
              :host {
                display: block;
                box-sizing: border-box;
                @apply(--layout-vertical);
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                min-height: calc(15em + 1vmin);
            }

            #streams {
                @apply(--layout-wrap);
            }

            twitchtv-card, youtube-card {
                margin: 10px;
            }

            paper-spinner {
                margin: 16px auto;
            }

            #errorMessage{
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }
              
            .loadingIndicator{
                       display: flex;
                      flex-direction: row !important;
            }

            .loadingIndicatorTitle{
                    padding-top: 1.7em;
                    font-size: calc(0.6em + 1vmin);
                    padding-left: 3em;
                    font-weight: 100;
            }

              @media only screen and (min-width : 360px) {
                     #streams{
                            margin-left: 5px;
                    }
                    twitchtv-card{
                        width: 80% !important;
                    }
              }
              @media only screen and (min-width : 412px) {
                   #streams{
                            margin-left: 30px;
                    }
                    twitchtv-card{
                        width: 80% !important;
                    }
              }  
              @media only screen and (min-width : 480px) {
                    #streams{
                            margin-left: 70px;
                    }
                    twitchtv-card{
                        width: 80% !important;
                    }
              }
              @media only screen and (min-width : 768px) {
                    #streams{
                            margin-left: 70px;
                    }
                      twitchtv-card{
                        width: 40% !important;
                    }
              }
              @media only screen and (min-width : 1024px) { /* zoom %175 */
                  #streams{
                            margin-left: 105px;
                    }
                   twitchtv-card{
                        width: 40% !important;
                    }
              }
              @media only screen and (min-width : 1224px) { /* zoom %150 */
                   #streams{
                            margin-left: 30px;
                    }
                    twitchtv-card{
                        width: 30% !important;
                    }
              }
              @media only screen and (min-width : 1440px) { /* zoom % 125*/
                   #streams{
                            margin-left: 50px;
                    }
                    twitchtv-card{
                        width: 30% !important
                    }
              }
              @media only screen and (min-width : 1640px) { /* zoom %110*/
                    #streams{
                            margin-left: 60px;
                    }
                     twitchtv-card{
                        width: 260px !important;
                    }
              }
              @media only screen and (min-width : 1824px) {
                   #streams{
                            margin-left: 20px;
                    }
                    twitchtv-card{
                        width: 295px !important;
                    }
              }
        </style>
    </template>
</dom-module>
﻿

<dom-module id="event-infinite-scroll" assetpath="../../event-infinite-scroll/">

    <template>
    </template>
    <script>
    Polymer({
        is: "event-infinite-scroll",
        /**
         * Fired when reach bottom.
         *
         * @event reach-bottom
         */

        /**
         * Fired when reach top.
         *
         * @event reach-top
         */

        properties: {
            /**
             * track scroll on ready
             * otherwise you can call observer when ever you want
             *
             * @boolean autoStart
             */
            autoStart: {
                type: Boolean,
                value: false
            },

            /**
             * Track whole document body instead of parentNode
             */
            body: {
                type: Boolean,
                value: false
            },

            /**
             * The offset is used for triggering the notifications
             * before the real top/bottom is reached
             *
             * @int scrollOffset
             */
            scrollOffset: {
                type: Number,
                value: 200,
                reflectToAttribute: true
            },

            /**
             * You can set your item loading delay time when scroll infinite
             *
             * @int loadingDelay (in milliseconds)
             */
            loadingDelay: {
                type: Number,
                value: 0,
                reflectToAttribute: true
            }
        },

        observers: [
            '_startScroll(autoStart, body)'
        ],

        observerStatus: true,
        observer: null,

        /**
         * Triggered when the autoStart status is changed
         *
         * @readyOnStart [boolean] autoStart
         */
        _startScroll: function( autoStart, body ) {
            if ( autoStart && body ) {
                this.startObserve();
            }
        },

        startObserve: function () {
            var eventTarget = this.parentNode;
            if(this.body) {
              eventTarget = document;
            }

            this._scrollListener = function () {
                this.scrolled();
            }.bind( this );

            this._mousewheelListener = function () {
                this.scrolledWheel();
            }.bind( this );

            eventTarget.addEventListener( "scroll",  this._scrollListener);
            eventTarget.addEventListener( "mousewheel", this._mousewheelListener);

            var self = this;

            this.observer = new MutationObserver( function () {
                window.setTimeout( function () {
                    if ( ! self.observerStatus ) {
                        this.observer.disconnect();
                        return;
                    }

                    this.scrolled();
                }.bind( this ), 10 );
            }.bind( this ) );

            this.observer.observe( eventTarget, {
                childList:     true,
                subtree:       true,
                characterData: true
            });
        },

        stopObserve: function () {
            var eventTarget = this.parentNode;
            if(this.body) {
                eventTarget = document;
            }

            eventTarget.removeEventListener("scroll", this._scrollListener);
            eventTarget.removeEventListener("mousewheel", this._mousewheelListener);

            if (this.observer) {
                this.observer.disconnect();
            }
        },

        scrolledWheel: function () {
            var target = this.parentNode;
            if(this.body) {
              target = document.body;
            }

            if ( target.scrollHeight == target.clientHeight ) {
                this.scrolled();
            }
        },

        scrolled: function () {
            if ( this._isReachBottom() ) {
                // fire the reach-bottom after with delay if loadingDelay is set
                this.async( function () {
                    this.fire( "reach-bottom" );
                }, this.loadingDelay );
            }

            else if ( this._isReachTop() ) {
                // fire the reach-top after with delay if loadingDelay is set
                this.async( function () {
                    this.fire( "reach-top" );
                }, this.loadingDelay );
            }
        },

        _isReachTop: function () {
            var target = this.parentNode;
            if(this.body) {
                target = document.body;
            }

            return ( target.scrollTop <= this.scrollOffset );
        },

        _isReachBottom: function () {
            var target = this.parentNode;
            if(this.body) {
                target = document.body;
            }

            var scrollBottom = target.scrollTop + target.clientHeight;
            var belowView = target.scrollHeight - scrollBottom;
            return ( belowView <= this.scrollOffset );
        }
    });
    </script>

</dom-module>


<dom-module id="streaming-list" assetpath="../../streaming-list/">
    <template>
        <style is="custom-style" include="streaming-list-style">
        </style>
        <style is="custom-style">
                @media only screen and (min-width : 320px) {
                    #streams .twitch-tv-class:nth-child(n+6){
                        display:none !important;
                    }
                }
                @media only screen and (min-width : 768px) {
                    #streams .twitch-tv-class:nth-child(n+6){
                        display:inline-block !important;
                    }
                 
                }
        </style>

        <iron-ajax id="streamingListAjax" url="[[_getApiUrl(service, twitchApiUrl, youtubeApiUrl)]]" headers="[[_concatHeaders(clientId)]]" handle-as="json" on-response="_onResponse" on-request="_onRequest" on-error="_onError" debounce-duration="30">
        </iron-ajax>
        <div id="streams">
            <template is="dom-if" if="[[!resultStatus]]">
                <div id="errorMessage">
                    <h3>[[game]] oyununun, <b>[[myLanguage]]</b> canlı yayını bulunmamaktadır.</h3>
                </div>
            </template>

            <template is="dom-repeat" items="[[response.streams]]">
                <twitchtv-card class="twitch-tv-class" data="[[item]]" width="[[width]]" on-loaded="_cardLoaded"></twitchtv-card>
            </template>
            <template is="dom-repeat" items="[[response.items]]">
                <youtube-card game="[[game]]" lang="[[lang]]" data="[[item]]" width="[[width]]" on-loaded="_cardLoaded"></youtube-card>
            </template>
        </div>


        <div class="loadingIndicator" hidden$="[[!loading]]">
            <h2 class="loadingIndicatorTitle">Yayınlar Yükleniyor</h2>
            <loader-pac></loader-pac>
        </div>
        <!--<paper-spinner id="spinnerBottom" alt="Loading more streams" active></paper-spinner>-->

        <event-infinite-scroll id="eventInfiniteScroll" scrolloffset="60" on-reach-bottom="_loadMore">
        </event-infinite-scroll>
    </template>

    <script>
    Polymer({
      is: "streaming-list",

      /**
       * Fired when a request is sent.
       *
       * @event streaming-list-request
       */

      /**
       * Fired when a response of a single card is received.
       *
       * @event streaming-list-response
       */

       /**
        * Fired when all cards are fully rendered (including images).
        *
        * @event streaming-list-rendered
        */

       /**
        * Fired when application are full rendered, all observers are in place and when the component is ready.
        *
        * @event streaming-list-ready
        */

      /**
       * Fired in request or response error.
       *
       * @event streaming-list-error
       */

      properties: {
        /**
         * `twitchApiUrl` indicates the URL of twitch API to list streams
         */
        twitchApiUrl: {
          type: String,
          value: "https://api.twitch.tv/kraken/streams"
        },

        /**
         * `youtubeApiUrl` indicates the URL of youtube API to list streams
         */
        youtubeApiUrl: {
          type: String,
          value: "https://www.googleapis.com/youtube/v3/search"
        },

        /**
         * `service` indicates the service to fetch data, can be the string youtube or twitch
         */
        service: {
          type: String,
          value: "twitch"
        },

        /**
         * `clientId` Client-ID, required for twitch service (register your app at https://www.twitch.tv/settings/connections)
         */
        clientId: {
          type: String,
          value: null
        },

        /**
         * `key` API Key, required for youtube service (register your app at https://console.cloud.google.com/appengine)
         */
        key: {
          type: String,
          value: null
        },

        /**
         * `limit` Used to define the number of itens on each page
         */
        limit: {
          type: Number,
          notify: true,
          value: 12
        },

        /**
         * `pages` Number of pages to maintain cached, can cause performance degradation
         */
        pages: {
          type: Number,
          value: 2
        },

        /**
        * `width` If you define width (in pixels) the container layout will be changed to wrap and the card size will be fixed with the given width
        */
        width: {
          type: Number,
          notify: true,
          value: null
        },

        /**
         * `lang` Used to filter the language of the videos
         */
        lang: {
          type: String,
          notify: true,
          value: "en"
        },

        /**
         * `game` Used to filter videos from a specific game
         */
        game: {
          type: String,
          notify: true,
          value: null
        },

        /**
        * `response` Cached data retrieved from the server
        */
        response: {
          type: Object,
          value: function(){
            return {streams: [], items: []};
          },
          notify: true
        },

        /**
         * `currentPage` Current page
         */
        currentPage: {
          type: Number,
          readOnly: true,
          notify: true,
          value: 0
        },

          /*
          * resultStatus when is coming data is available or more than 0 =>equals true .otherwise false.and show error not found message to user
          */
        resultStatus: {
            type: Boolean,
            value: false,
            notify: true
        }
        ,
        myLanguage: {
            type: String,
            value: "",
            notify: true
        },

        loading: {
            type: Boolean,
            value: false,
            notify: true
        }
      },

      observers: [
        'generateRequest(service, twitchApiUrl, youtubeApiUrl, limit, lang, game, clientId, key)'
      ],

      listeners: {
        'streaming-list-rendered': '_observeScroll'
      },

      ready: function() {
        if(this.width) {
          this.className = 'layout horizontal wrap';
        }
      },

      _getApiUrl: function() {
        if(this.service === 'twitch') return this.twitchApiUrl;
        if(this.service === 'youtube') return this.youtubeApiUrl;
        throw Error('missing or wrong service');
      },

      _concatParams: function() {
        if(this.service === 'twitch') {
            if (this.lang === 'all')
            {
                this.myLanguage = "tüm dünyada"
                return {
                    limit: this.limit,
                    game: this.game,
                    offset: (this.currentPage * this.limit) || 0
                };
            }
            else
            {
                if (this.lang === 'en') this.myLanguage = 'İngilizce';
                if (this.lang === 'tr') this.myLanguage = 'Türkçe';

                return {
                    limit: this.limit,
                    language: this.lang,
                    game: this.game,
                    offset: (this.currentPage * this.limit) || 0
                };
            }
          
        }

        if(this.service === 'youtube') {
          return {
            part: 'snippet',
            eventType: 'live',
            maxResults: this.limit,
            order: 'viewCount',
            q: this.game,
            relevanceLanguage: this.lang,
            type: 'video',
            videoCategoryId: 20, // Gaming category
            key: this.key
          };
        }

        throw Error('missing or wrong service');
      },

      _concatHeaders: function() {
        if (this.service === 'twitch') {
          return {
            'Client-ID': this.clientId
          };
        }

        return {};
      },

      _onRequest: function (event) {
          this.loading = true;
        //this.$.spinnerBottom.active = true;
        this.fire('streaming-list-request', event.detail);
      },

      _onResponse: function (event) {
          var len = 0;
          if (this.service === 'twitch') len = event.detail.response.streams.length;
          if (this.service === 'youtube') len = event.detail.response.items.length;

          if (len > 0)
          {
              this.resultStatus = true;
              //console.log(event.detail.response);
              var oldStreams;
              var response = event.detail.response;

              // set old streams concated with new streams
              if (this.service === 'twitch') {
                  oldStreams = this.response.streams;
                  this.set('response.streams', oldStreams.concat(response.streams));
              }

              if (this.service === 'youtube') {
                  oldStreams = this.response.items;
                  this.set('response.items', oldStreams.concat(response.items));
              }

              this.fire('streaming-list-response', event.detail);
          }
          else
          {
              this.resultStatus = false;
             
          }

          // reset spinner
          //this.$.spinnerBottom.active = false;
          this.loading = false;


      },

      _onError: function (event) {
          //console.log('_onError');
        this.fire('streaming-list-error', event.detail);
      },

        //loadMore scroll u dinliyor, beklenen konuma gelindiğinde tekrardan foksyionu calistiyor
      _loadMore: function (event) {
          //console.log('loadMore');
          this.$.eventInfiniteScroll.stopObserve();
        this._scrollListening = false;

          // currentPage is readOnly, all readOnly have _setProp method
          //generateRequest i kapatıyoruz.
        //this._setCurrentPage(this.currentPage + 1);
        //this.generateRequest();
      },

      /**
       * Fires loaded event when all cards has been loaded after the request
       * @param  Event event loaded event of each card
       * @return null
       */
      _cardLoaded: function(event) {
        this.doneCards = this.doneCards || [];
        this.doneCards.push(event.detail);
        //console.log(this.doneCards.length, 'of', this.limit);

        if(this.doneCards.length >= this.limit){
          //console.log('all cards loaded');
          //console.log(this.response.streams);

          // remove old cards
          this._removeOldCards();

          // reset spinner
          //this.$.spinnerBottom.active = false;
          this.loading = false;

          //console.log('Card loaded' + this.loading);

          this.fire('streaming-list-rendered', this.doneCards);
          this.doneCards = [];
        }
      },

      _observeScroll: function(event) {
        // Listen for scroll event-infinite-scroll
        if(!this._scrollListening) {
            this.$.eventInfiniteScroll.startObserve();
          this._scrollListening = true;
        }

        this.fire('streaming-list-ready');
      },

      _removeOldCards: function(event) {
        /* Pending implementation */
        /*
        if(!this.pages) return;
        if(this.response.streams.length > this.limit * this.pages) {
          //this.splice('response.streams', 0, this.limit);

          // Scroll to bottom - offset -1
          //this._scrollUp();
        }
        //console.log(this.response.streams.length);
        */
      },

      /**
       * Scroll to middle of page
       */
      _scrollBottom: function() {
        if (this.body) {
          var top = document.body.scrollHeight,
              left = window.pageX || document.documentElement.scrollLeft;
          console.log('scrolling to', left, top);
          window.scrollTo(left, top);
        }
      },

      /**
       * Reset state of the application (pagination and cards)
       */
      _resetState: function() {
        //console.log('reseting state');
          this.$.eventInfiniteScroll.stopObserve();
        this._scrollListening = false;

        this.set('response.streams', []);
        this.set('response.items', []);
        this._setCurrentPage(0);
      },

      /**
       * Performs an AJAX iron-ajax-request to the streaming server
       * @returns {!IronRequestElement} Returns !IronRequestElement
       */
      generateRequest: function() {
        // Clear application state before, if generateRequest has arguments (observer)
        if (arguments.length > 0) this._resetState();

        this.$.streamingListAjax.params = this._concatParams();
        //console.trace(this.$.streamingListAjax.params);
        return this.$.streamingListAjax.generateRequest();
      }
    });
    </script>
</dom-module>


<dom-module id="game-streaming-list" assetpath="../oyun/">
    <template>
        <style is="custom-style">
           paper-input, paper-dropdown-menu {
            display: inline-block;
            cursor: pointer;
          }
            paper-item[heading] {
                font-size: 20px !important;
            }
            paper-item[heading] div h2{
                font-size:20px !important;
                font-weight:100;
            }

                paper-item[heading] paper-button {
                    font-size: 14px;
                }

            paper-item[empty-info] {
                
                font-size: 16px;
                padding: 20px;
            }

            paper-item[empty-info] {
                @apply(--layout-vertical);
                @apply(--layout-center);
            }

                paper-item[empty-info] div {
                    width: calc(100% - 40px);
                    @apply(--layout-horizontal);
                    @apply(--layout-start-justified);
                }

            paper-item div {
                font-weight: 100;
            }

            paper-item .pi_hardwarename {
                font-weight: bold !important;
            }
           
            #pdmLanguage{
                --paper-input-container-label: {
                  color: var(--paper-pink-500);
                  text-align: center;
                  font-weight: bold;
                };
                --paper-input-container-input: {
                  color: white;
                  text-align: center;
                  text-transform: uppercase;
                }
                /* no underline */
                --paper-input-container-underline: {
                  display: none;
                };
            }

            #online-twitch{
                width:100%;
            }
             
        </style>
        <paper-material elevation="0" id="online-twitch" role="listbox">
            <paper-item heading="" style$="background-color: [[bca]]; color: [[mc]]">
                <div style="flex-grow: 2;"><h2>[[gamename]] - Twitch <iron-icon style="height: calc(1.3em + 1vmin); width: calc(1.3em + 1vmin);" icon="av:videocam"></iron-icon> </h2> </div>
                <paper-dropdown-menu id="pdmLanguage" style$="margin-bottom:20px; color: [[mc]]" label="Dil Seçeneği">
                    <paper-listbox class="dropdown-content" attr-for-selected="value" selected="{{language}}" style$="background-color:[[bc]]; color: [[mc]]">
                        <paper-item value="all">Tüm Yayınlar</paper-item>
                        <paper-item value="tr">Türkçe Yayınlar</paper-item>
                        <paper-item value="en">İngilizce Yayınlar</paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
            </paper-item>
            <paper-item empty-info="" style$="background-color:[[bc]]; color:[[mc]]; padding-left:0 !important;">
                <streaming-list lang="{{language}}" width="{{size}}" client-id="{{clientId}}" key="{{key}}" service="{{service}}" game="{{gamename}}">
                </streaming-list>
            </paper-item>
        </paper-material>
    </template>
    <script>
        Polymer({
            is: 'game-streaming-list',
            properties: {
                gamename: {
                    type: String,
                    value: "",
                    notify: true
                },
                language: {
                    type: String,
                    value: "all"
                },
                size: {
                    type: Number,
                    value: 250
                },
                service: {
                    type: String,
                    value: "twitch"
                },
                clientId: {
                    type: String,
                    value: "573me5izesw34qm13u7j1h8km5fnpwz"
                },
                key: {
                    type: String,
                    value: "AIzaSyDMAAk08_eOgNAj12gQ3wb3liY0KJgb5kI"
                },
                mc: {
                    type: String
                },
                bc: {
                    type: String
                },
                bca: {
                    type: String
                }
            },

        });
    </script>
</dom-module>




</div></body></html>